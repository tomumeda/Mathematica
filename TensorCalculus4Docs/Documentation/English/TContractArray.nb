(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.2'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[     47035,       1162]*)
(*NotebookOutlinePosition[     48041,       1197]*)
(*  CellTagsIndexPosition[     47965,       1191]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["ContractArray", "ObjectName",
  CellTags->"Function?"],

Cell[TextData[{
  "\[FilledSmallSquare] ",
  Cell[BoxData[
      RowBox[{
        StyleBox["ContractArray",
          "MR"], 
        StyleBox["[",
          "MR"], 
        StyleBox[\(tarray, \ {lev1, lev2} ... \),
          "TI"], 
        StyleBox["]",
          "MR"]}]]],
  " will contract the indicated pairs of level numbers in the tensor array \
tarray"
}], "Usage",
  CellTags->"Function?"],

Cell[TextData[{
  " The purpose of ContractArray is to perform contractions on the full \
matrix or array forms of tensors.  It can be used in conjunction with the ",
  StyleBox["dot mode",
    FontSlant->"Italic"],
  " commands in the Arrays Section.",
  " Generally it is easier to use tensor index mode methods."
}], "MathCaption"],

Cell["\<\
When tensors are expanded to arrays in Tensorial, the levels are always \
determined by the sort order of the raw indices, with the lowest sort order \
index at the highest level.\
\>", "MathCaption"],

Cell[TextData[{
  "See also: ",
  ButtonBox["DotTensorFactors",
    ButtonData:>{"DotTensorFactors"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ExpandDotArray",
    ButtonData:>{"ExpandDotArray"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["DotOperate",
    ButtonData:>{"DotOperate"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["SumExpansion",
    ButtonData:>{"SumExpansion"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ToArrayValues",
    ButtonData:>{"ToArrayValues"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ArrayExpansion",
    ButtonData:>{"ArrayExpansion"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["EinsteinSum",
    ButtonData:>{"EinsteinSum"},
    ButtonStyle->"AddOnsLink"],
  "."
}], "MathCaption"],

Cell[CellGroupData[{

Cell["Examples", "ExampleSection"],

Cell["See also the second Example, Arrays & Tensors.", "Text"],

Cell[BoxData[
    \(Needs["\<TensorCalculus4`Tensorial`\>"]\)], "Input",
  CellLabel->"In[1]:="],

Cell["Save the old settings.", "Text"],

Cell[BoxData[{
    \(\(oldindices = CompleteBaseIndices;\)\), "\n", 
    \(DeclareBaseIndices[{1, 2, 3}]\)}], "Input",
  CellLabel->"In[2]:="],

Cell[BoxData[
    \(DefineTensorShortcuts[T, 3]\)], "Input",
  CellLabel->"In[4]:="],

Cell["\<\
The normal way to contract a tensor is to repeat an index in an up and down \
position. The following contracts the first and third slots of the tensor \
T.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Tuud[i, j, i]\), "\[IndentingNewLine]", 
    \(% // EinsteinSum[]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[]\) // MatrixForm\)}], "Input",
  CellLabel->"In[5]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["T", 
        RowBox[{
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox["j",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"}], 
        RowBox[{"i", "j", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}]],
      Tensor[ T, {i, j, Void}, {Void, Void, i}],
      Editable->False]], "Output",
  CellLabel->"Out[5]="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["T", 
          RowBox[{
            TagBox[
              StyleBox["1",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], 
            TagBox[
              StyleBox["j",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "1"}], 
          RowBox[{"1", "j", 
            TagBox[
              StyleBox["1",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ T, {1, j, Void}, {Void, Void, 1}],
        Editable->False], "+", 
      InterpretationBox[
        SubsuperscriptBox["T", 
          RowBox[{
            TagBox[
              StyleBox["2",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], 
            TagBox[
              StyleBox["j",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "2"}], 
          RowBox[{"2", "j", 
            TagBox[
              StyleBox["2",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ T, {2, j, Void}, {Void, Void, 2}],
        Editable->False], "+", 
      InterpretationBox[
        SubsuperscriptBox["T", 
          RowBox[{
            TagBox[
              StyleBox["3",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], 
            TagBox[
              StyleBox["j",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "3"}], 
          RowBox[{"3", "j", 
            TagBox[
              StyleBox["3",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ T, {3, j, Void}, {Void, Void, 3}],
        Editable->False]}]], "Output",
  CellLabel->"Out[6]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", 
        TagBox[GridBox[{
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "1", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 1, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "1", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 1, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "1", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 1, Void}, {Void, Void, 3}],
                    Editable->False]}]},
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "2", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 2, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "2", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 2, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "2", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 2, Void}, {Void, Void, 3}],
                    Editable->False]}]},
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "3", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 3, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "3", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 3, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "3", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 3, Void}, {Void, Void, 3}],
                    Editable->False]}]}
              },
            RowSpacings->1,
            ColumnAlignments->{Left}],
          Column], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[7]//MatrixForm="]
}, Open  ]],

Cell[TextData[{
  "Sometimes, you may wish to contract an array after it has been expanded to \
a ",
  StyleBox["Mathematica",
    FontSlant->"Italic"],
  " array. ContractArray can then be used. The following contracts the first \
and third levels of T."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Tuud[i, j, k]\), "\[IndentingNewLine]", 
    \(% // EinsteinArray[]\), "\[IndentingNewLine]", 
    \(ContractArray[%, {1, 3}] // MatrixForm\)}], "Input",
  CellLabel->"In[8]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["T", 
        RowBox[{
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox["j",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "k"}], 
        RowBox[{"i", "j", 
          TagBox[
            StyleBox["k",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}]],
      Tensor[ T, {i, j, Void}, {Void, Void, k}],
      Editable->False]], "Output",
  CellLabel->"Out[8]="],

Cell[BoxData[
    RowBox[{"{", 
      RowBox[{
        RowBox[{"{", 
          RowBox[{
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"1", "1", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 1, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"1", "1", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 1, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"1", "1", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 1, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"1", "2", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 2, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"1", "2", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 2, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"1", "2", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 2, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"1", "3", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 3, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"1", "3", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 3, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"1", "3", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {1, 3, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
          RowBox[{
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"2", "1", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 1, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"2", "1", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 1, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"2", "1", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 1, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"2", "2", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 2, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"2", "2", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 2, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"2", "2", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 2, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"2", "3", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 3, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"2", "3", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 3, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"2", "3", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {2, 3, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}]}], "}"}], ",", 
        RowBox[{"{", 
          RowBox[{
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"3", "1", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 1, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"3", "1", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 1, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"3", "1", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 1, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"3", "2", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 2, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"3", "2", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 2, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"3", "2", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 2, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}], ",", 
            RowBox[{"{", 
              RowBox[{
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                    RowBox[{"3", "3", 
                      TagBox[
                        StyleBox["1",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 3, Void}, {Void, Void, 1}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                    RowBox[{"3", "3", 
                      TagBox[
                        StyleBox["2",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 3, Void}, {Void, Void, 2}],
                  Editable->False], ",", 
                InterpretationBox[
                  SubsuperscriptBox["T", 
                    RowBox[{
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                    RowBox[{"3", "3", 
                      TagBox[
                        StyleBox["3",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}]],
                  Tensor[ T, {3, 3, Void}, {Void, Void, 3}],
                  Editable->False]}], "}"}]}], "}"}]}], "}"}]], "Output",
  CellLabel->"Out[9]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", 
        TagBox[GridBox[{
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "1", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 1, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "1", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 1, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "1", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 1, Void}, {Void, Void, 3}],
                    Editable->False]}]},
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "2", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 2, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "2", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 2, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "2", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 2, Void}, {Void, Void, 3}],
                    Editable->False]}]},
              {
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "1"}], 
                      RowBox[{"1", "3", 
                        TagBox[
                          StyleBox["1",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {1, 3, Void}, {Void, Void, 1}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "2"}], 
                      RowBox[{"2", "3", 
                        TagBox[
                          StyleBox["2",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {2, 3, Void}, {Void, Void, 2}],
                    Editable->False], "+", 
                  InterpretationBox[
                    SubsuperscriptBox["T", 
                      RowBox[{
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "3"}], 
                      RowBox[{"3", "3", 
                        TagBox[
                          StyleBox["3",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ T, {3, 3, Void}, {Void, Void, 3}],
                    Editable->False]}]}
              },
            RowSpacings->1,
            ColumnAlignments->{Left}],
          Column], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[10]//MatrixForm="]
}, Open  ]],

Cell["Restore settings.", "Text"],

Cell[BoxData[
    \(ClearTensorShortcuts[T, 3]\)], "Input",
  CellLabel->"In[11]:="],

Cell[BoxData[{
    \(DeclareBaseIndices @@ oldindices\), "\[IndentingNewLine]", 
    \(Clear[oldindices]\)}], "Input",
  CellLabel->"In[12]:="]
}, Open  ]]
}, Open  ]]
},
FrontEndVersion->"5.2 for Microsoft Windows",
ScreenRectangle->{{0, 1680}, {0, 965}},
ScreenStyleEnvironment->"Working",
WindowToolbars->{},
WindowSize->{674, 474},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
ShowSelection->True,
CommonDefaultFormatTypes->{"Output"->StandardForm},
StyleDefinitions -> "HelpBrowser.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{
  "Function?"->{
    Cell[1776, 53, 60, 1, 41, "ObjectName",
      CellTags->"Function?"],
    Cell[1839, 56, 399, 15, 33, "Usage",
      CellTags->"Function?"]}
  }
*)

(*CellTagsIndex
CellTagsIndex->{
  {"Function?", 47794, 1182}
  }
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 60, 1, 41, "ObjectName",
  CellTags->"Function?"],
Cell[1839, 56, 399, 15, 33, "Usage",
  CellTags->"Function?"],
Cell[2241, 73, 334, 7, 58, "MathCaption"],
Cell[2578, 82, 210, 4, 58, "MathCaption"],
Cell[2791, 88, 774, 30, 58, "MathCaption"],

Cell[CellGroupData[{
Cell[3590, 122, 34, 0, 39, "ExampleSection"],
Cell[3627, 124, 62, 0, 25, "Text"],
Cell[3692, 126, 96, 2, 29, "Input"],
Cell[3791, 130, 38, 0, 25, "Text"],
Cell[3832, 132, 142, 3, 49, "Input"],
Cell[3977, 137, 84, 2, 29, "Input"],
Cell[4064, 141, 180, 4, 42, "Text"],

Cell[CellGroupData[{
Cell[4269, 149, 196, 4, 69, "Input"],
Cell[4468, 155, 632, 19, 30, "Output"],
Cell[5103, 176, 1935, 56, 30, "Output"],
Cell[7041, 234, 8010, 178, 87, "Output"]
}, Open  ]],
Cell[15066, 415, 267, 7, 42, "Text"],

Cell[CellGroupData[{
Cell[15358, 426, 198, 4, 69, "Input"],
Cell[15559, 432, 632, 19, 30, "Output"],
Cell[16194, 453, 22518, 513, 71, "Output"],
Cell[38715, 968, 8011, 178, 87, "Output"]
}, Open  ]],
Cell[46741, 1149, 33, 0, 25, "Text"],
Cell[46777, 1151, 84, 2, 29, "Input"],
Cell[46864, 1155, 143, 3, 49, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

