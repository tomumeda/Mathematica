(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.2'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[     65384,       1767]*)
(*NotebookOutlinePosition[     66409,       1803]*)
(*  CellTagsIndexPosition[     66333,       1797]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["CovariantCommutator", "ObjectName",
  CellTags->"Function?"],

Cell[TextData[{
  "\[FilledSmallSquare] ",
  Cell[BoxData[
      RowBox[{
        RowBox[{
          StyleBox["CovarianatCommutator",
            "MR"], 
          StyleBox["[",
            "MR"], 
          StyleBox[\({c1, c2}, R, d\),
            "TI"], 
          StyleBox["]",
            "MR"]}], 
        StyleBox["[",
          "MR"], 
        StyleBox["term",
          "TI"], 
        StyleBox["]",
          "MR"]}]]],
  "will calculate the covariant commutator, CovariantD[term, {c1,c2}] - \
CovariantD[term,{c2,c1}] and express the result in terms of the Riemann \
tensor R. d is the dummy index that is introduced."
}], "Usage",
  CellTags->"Function?"],

Cell["R is the label to be used for the Riemann tensor.", "MathCaption"],

Cell["For flavored expressions the flavor must be on c1, c2 and d.", \
"MathCaption"],

Cell[TextData[{
  "See also:  ",
  ButtonBox["CalculateRiemannd",
    ButtonData:>{"CalculateRiemannd"},
    ButtonStyle->"AddOnsLink"],
  "."
}], "MathCaption"],

Cell[CellGroupData[{

Cell["Example", "ExampleSection"],

Cell[BoxData[
    \(Needs["\<TensorCalculus4`Tensorial`\>"]\)], "Input",
  CellLabel->"In[1]:="],

Cell[BoxData[{
    \(\(oldflavors = IndexFlavors;\)\), "\n", 
    \(DefineTensorShortcuts[{\[Lambda], 1}, {\[Tau], 2}, {\[Tau], 
        3}]\), "\n", 
    \(DeclareIndexFlavor[{red, Red}]\)}], "Input",
  CellLabel->"In[2]:="],

Cell["A down index gives a positive term.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]d[a]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{b, c}, R, 
          d]\)[%]\)}], "Input",
  CellLabel->"In[5]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["\[Lambda]", "a", 
        TagBox[
          StyleBox["a",
            ShowContents->False],
          (StyleForm[ #, ShowContents -> False]&)]],
      Tensor[ \[Lambda], {Void}, {a}],
      Editable->False]], "Output",
  CellLabel->"Out[5]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Lambda]", "a", 
                    TagBox[
                      StyleBox["a",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]],
                  Tensor[ \[Lambda], {Void}, {a}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Lambda], {Void}, {a}]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Lambda], {Void}, {a}]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Lambda]", "a", 
                    TagBox[
                      StyleBox["a",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]],
                  Tensor[ \[Lambda], {Void}, {a}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Lambda], {Void}, {a}]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Lambda], {Void}, {a}]], {c, b}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        InterpretationBox[
          SubsuperscriptBox["R", 
            RowBox[{
              TagBox[
                StyleBox["d",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "a", "b", "c"}], 
            RowBox[{"d", 
              TagBox[
                StyleBox["a",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["b",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["c",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}]],
          Tensor[ R, {d, Void, Void, Void}, {Void, a, b, c}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Lambda]", "d", 
            TagBox[
              StyleBox["d",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]],
          Tensor[ \[Lambda], {Void}, {d}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[6]="]
}, Open  ]],

Cell["An up index gives a negative term.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{b, c}, R, 
          d]\)[%]\)}], "Input",
  CellLabel->"In[7]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["\[Lambda]", 
        TagBox[
          StyleBox["a",
            ShowContents->False],
          (StyleForm[ #, ShowContents -> False]&)], "a"],
      Tensor[ \[Lambda], {a}, {Void}],
      Editable->False]], "Output",
  CellLabel->"Out[7]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Lambda]", 
                    TagBox[
                      StyleBox["a",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "a"],
                  Tensor[ \[Lambda], {a}, {Void}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Lambda], {a}, {Void}]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Lambda], {a}, {Void}]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Lambda]", 
                    TagBox[
                      StyleBox["a",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "a"],
                  Tensor[ \[Lambda], {a}, {Void}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Lambda], {a}, {Void}]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Lambda], {a}, {Void}]], {c, b}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{"-", 
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "d", "b", "c"}], 
              RowBox[{"a", 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {a, Void, Void, Void}, {Void, d, b, c}],
            Editable->False]}], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Lambda]", 
            TagBox[
              StyleBox["d",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "d"],
          Tensor[ \[Lambda], {d}, {Void}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[8]="]
}, Open  ]],

Cell["There is a term for each index.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Tau]uu[a, b]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{c, d}, R, 
          e]\)[%]\)}], "Input",
  CellLabel->"In[9]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["\[Tau]", 
        RowBox[{
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox["b",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], \(a  b\)],
      Tensor[ \[Tau], {a, b}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[9]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Tau]", 
                    RowBox[{
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["b",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}], \(a  b\)],
                  
                  Tensor[ \[Tau], {a, b}, {Void, Void}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Tau], {a, b}, {Void, Void}]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Tau], {a, b}, {Void, Void}]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                InterpretationBox[
                  SubsuperscriptBox["\[Tau]", 
                    RowBox[{
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["b",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]}], \(a  b\)],
                  
                  Tensor[ \[Tau], {a, b}, {Void, Void}],
                  Editable->False],
                Tensor[ 
                  Tensor[ \[Tau], {a, b}, {Void, Void}]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Tensor[ \[Tau], {a, b}, {Void, Void}]], {c, b}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{
          RowBox[{"-", 
            InterpretationBox[
              SubsuperscriptBox["R", 
                RowBox[{
                  TagBox[
                    StyleBox["b",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "e", "c", "d"}],
                 
                RowBox[{"b", 
                  TagBox[
                    StyleBox["e",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["c",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["d",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]}]],
              Tensor[ R, {b, Void, Void, Void}, {Void, e, c, d}],
              Editable->False]}], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}], \(a  e\)],
            Tensor[ \[Tau], {a, e}, {Void, Void}],
            Editable->False]}], "-", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "e", "c", "d"}], 
              RowBox[{"a", 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {a, Void, Void, Void}, {Void, e, c, d}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}], \(e  b\)],
            Tensor[ \[Tau], {e, b}, {Void, Void}],
            Editable->False]}]}]}]], "Output",
  CellLabel->"Out[10]="]
}, Open  ]],

Cell["A term can contain products of tensors.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a] \[Lambda]d[b]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{c, d}, R, 
          e]\)[%]\)}], "Input",
  CellLabel->"In[11]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", 
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "a"],
        Tensor[ \[Lambda], {a}, {Void}],
        Editable->False], " ", 
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", "b", 
          TagBox[
            StyleBox["b",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]],
        Tensor[ \[Lambda], {Void}, {b}],
        Editable->False]}]], "Output",
  CellLabel->"Out[11]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", "b", 
                      TagBox[
                        StyleBox["b",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]],
                    Tensor[ \[Lambda], {Void}, {b}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Lambda], {Void}, {b}]]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Lambda], {Void}, {b}]]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", "b", 
                      TagBox[
                        StyleBox["b",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]],
                    Tensor[ \[Lambda], {Void}, {b}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Lambda], {Void}, {b}]]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Lambda], {Void}, {b}]]], {c, b}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{
          RowBox[{"-", 
            InterpretationBox[
              SubsuperscriptBox["R", 
                RowBox[{
                  TagBox[
                    StyleBox["a",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "e", "c", "d"}],
                 
                RowBox[{"a", 
                  TagBox[
                    StyleBox["e",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["c",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["d",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]}]],
              Tensor[ R, {a, Void, Void, Void}, {Void, e, c, d}],
              Editable->False]}], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", 
              TagBox[
                StyleBox["e",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "e"],
            Tensor[ \[Lambda], {e}, {Void}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", "b", 
              TagBox[
                StyleBox["b",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]],
            Tensor[ \[Lambda], {Void}, {b}],
            Editable->False]}], "+", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "b", "c", "d"}], 
              RowBox[{"e", 
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {e, Void, Void, Void}, {Void, b, c, d}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", 
              TagBox[
                StyleBox["a",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "a"],
            Tensor[ \[Lambda], {a}, {Void}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", "e", 
              TagBox[
                StyleBox["e",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]],
            Tensor[ \[Lambda], {Void}, {e}],
            Editable->False]}]}]}]], "Output",
  CellLabel->"Out[12]="]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Tau]uud[a, b, c]\), "\[IndentingNewLine]", 
    \(CovariantD[%, {d, e}] - 
        CovariantD[%, {e, d}] == \(CovariantCommutator[{d, e}, R, 
          f]\)[%]\)}], "Input",
  CellLabel->"In[13]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["\[Tau]", 
        RowBox[{
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox["b",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "c"}], 
        RowBox[{"a", "b", 
          TagBox[
            StyleBox["c",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}]],
      Tensor[ \[Tau], {a, b, Void}, {Void, Void, c}],
      Editable->False]], "Output",
  CellLabel->"Out[13]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            InterpretationBox[
              SubsuperscriptBox["\[Tau]", 
                RowBox[{
                  TagBox[
                    StyleBox["a",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["b",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "c"}], 
                RowBox[{"a", "b", 
                  TagBox[
                    StyleBox["c",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]}]],
              Tensor[ \[Tau], {a, b, Void}, {Void, Void, c}],
              Editable->False], \(\(;\)\(d  e\)\)],
          CovariantD[ 
            Tensor[ \[Tau], {a, b, Void}, {Void, Void, c}], {d, e}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            InterpretationBox[
              SubsuperscriptBox["\[Tau]", 
                RowBox[{
                  TagBox[
                    StyleBox["a",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["b",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "c"}], 
                RowBox[{"a", "b", 
                  TagBox[
                    StyleBox["c",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]}]],
              Tensor[ \[Tau], {a, b, Void}, {Void, Void, c}],
              Editable->False], \(\(;\)\(e  d\)\)],
          CovariantD[ 
            Tensor[ \[Tau], {a, b, Void}, {Void, Void, c}], {e, d}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "c", "d", "e"}], 
              RowBox[{"f", 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {f, Void, Void, Void}, {Void, c, d, e}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "f"}], 
              RowBox[{"a", "b", 
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {a, b, Void}, {Void, Void, f}],
            Editable->False]}], "-", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "f", "d", "e"}], 
              RowBox[{"b", 
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {b, Void, Void, Void}, {Void, f, d, e}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "c"}], 
              RowBox[{"a", "f", 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {a, f, Void}, {Void, Void, c}],
            Editable->False]}], "-", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["a",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "f", "d", "e"}], 
              RowBox[{"a", 
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {a, Void, Void, Void}, {Void, f, d, e}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox["f",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "c"}], 
              RowBox[{"f", "b", 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {f, b, Void}, {Void, Void, c}],
            Editable->False]}]}]}]], "Output",
  CellLabel->"Out[14]="]
}, Open  ]],

Cell["The expansion is only on up and down indices.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a] \[Lambda]d[a]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{b, c}, R, 
          d]\)[%]\)}], "Input",
  CellLabel->"In[15]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", 
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "a"],
        Tensor[ \[Lambda], {a}, {Void}],
        Editable->False], " ", 
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", "a", 
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]],
        Tensor[ \[Lambda], {Void}, {a}],
        Editable->False]}]], "Output",
  CellLabel->"Out[15]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", "a", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]],
                    Tensor[ \[Lambda], {Void}, {a}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Lambda], {Void}, {a}]]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Lambda], {Void}, {a}]]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", "a", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)]],
                    Tensor[ \[Lambda], {Void}, {a}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Lambda], {Void}, {a}]]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Lambda], {Void}, {a}]]], {c, b}],
          Editable->False]}], "\[Equal]", "0"}]], "Output",
  CellLabel->"Out[16]="]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a] \[Tau]ud[b, a]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {b, c}] - 
        CovariantD[Tensor[%], {c, b}] == \(CovariantCommutator[{c, d}, R, 
          e]\)[%]\)}], "Input",
  CellLabel->"In[17]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", 
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "a"],
        Tensor[ \[Lambda], {a}, {Void}],
        Editable->False], " ", 
      InterpretationBox[
        SubsuperscriptBox["\[Tau]", 
          RowBox[{
            TagBox[
              StyleBox["b",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "a"}], 
          RowBox[{"b", 
            TagBox[
              StyleBox["a",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ \[Tau], {b, Void}, {Void, a}],
        Editable->False]}]], "Output",
  CellLabel->"Out[17]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Tau]", 
                      RowBox[{
                        TagBox[
                          StyleBox["b",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "a"}], 
                      RowBox[{"b", 
                        TagBox[
                          StyleBox["a",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ \[Tau], {b, Void}, {Void, a}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Tau], {b, Void}, {Void, a}]]],
                Editable->False], ")"}], \(\(;\)\(b  c\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Tau], {b, Void}, {Void, a}]]], {b, c}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox["a",
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], "a"],
                    Tensor[ \[Lambda], {a}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Tau]", 
                      RowBox[{
                        TagBox[
                          StyleBox["b",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "a"}], 
                      RowBox[{"b", 
                        TagBox[
                          StyleBox["a",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ \[Tau], {b, Void}, {Void, a}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {a}, {Void}], 
                    Tensor[ \[Tau], {b, Void}, {Void, a}]]],
                Editable->False], ")"}], \(\(;\)\(c  b\)\)],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {a}, {Void}], 
                Tensor[ \[Tau], {b, Void}, {Void, a}]]], {c, b}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{"-", 
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "e", "c", "d"}], 
              RowBox[{"b", 
                TagBox[
                  StyleBox["e",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["d",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {b, Void, Void, Void}, {Void, e, c, d}],
            Editable->False]}], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Lambda]", 
            TagBox[
              StyleBox["a",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "a"],
          Tensor[ \[Lambda], {a}, {Void}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Tau]", 
            RowBox[{
              TagBox[
                StyleBox["e",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "a"}], 
            RowBox[{"e", 
              TagBox[
                StyleBox["a",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}]],
          Tensor[ \[Tau], {e, Void}, {Void, a}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[18]="]
}, Open  ]],

Cell["\<\
For flavored expressions the flavor must be on the covariant and dummy \
indices.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a] \[Tau]ud[b, c] // 
      ToFlavor[red]\), "\[IndentingNewLine]", 
    \(CovariantD[Tensor[%], {red@b, red@c}] - 
        CovariantD[
          Tensor[%], {red@c, red@b}] == \(CovariantCommutator[{red@c, red@d}, 
          R, red@e]\)[%]\)}], "Input",
  CellLabel->"In[19]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["a",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox["a",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
        Tensor[ \[Lambda], {
          red[ a]}, {Void}],
        Editable->False], " ", 
      InterpretationBox[
        SubsuperscriptBox["\[Tau]", 
          RowBox[{
            TagBox[
              StyleBox[
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], 
            TagBox[
              StyleBox["c",
                FontColor->RGBColor[1, 0, 0]],
              (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
          RowBox[{
            TagBox[
              StyleBox["b",
                FontColor->RGBColor[1, 0, 0]],
              (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
            TagBox[
              StyleBox[
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ \[Tau], {
          red[ b], Void}, {Void, 
          red[ c]}],
        Editable->False]}]], "Output",
  CellLabel->"Out[19]="],

Cell[BoxData[
    RowBox[{
      RowBox[{
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox[
                          TagBox[
                            StyleBox["a",
                              FontColor->RGBColor[1, 0, 0]],
                            (
                            StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                          
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["a",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
                    Tensor[ \[Lambda], {
                      red[ a]}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Tau]", 
                      RowBox[{
                        TagBox[
                          StyleBox[
                            TagBox[
                              StyleBox["b",
                                FontColor->RGBColor[1, 0, 0]],
                              (
                              StyleForm[ #, FontColor -> RGBColor[ 
                                1, 0, 0]]&)],
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["c",
                            FontColor->RGBColor[1, 0, 0]],
                          (
                          StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}],
                       
                      RowBox[{
                        TagBox[
                          StyleBox["b",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                        
                        TagBox[
                          StyleBox[
                            TagBox[
                              StyleBox["c",
                                FontColor->RGBColor[1, 0, 0]],
                              (
                              StyleForm[ #, FontColor -> RGBColor[ 
                                1, 0, 0]]&)],
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ \[Tau], {
                      red[ b], Void}, {Void, 
                      red[ c]}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {
                      red[ a]}, {Void}], 
                    Tensor[ \[Tau], {
                      red[ b], Void}, {Void, 
                      red[ c]}]]],
                Editable->False], ")"}], 
            RowBox[{";", 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]}]],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {
                  red[ a]}, {Void}], 
                Tensor[ \[Tau], {
                  red[ b], Void}, {Void, 
                  red[ c]}]]], {
            red[ b], 
            red[ c]}],
          Editable->False], "-", 
        InterpretationBox[
          SubscriptBox[
            RowBox[{"(", 
              InterpretationBox[
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["\[Lambda]", 
                      TagBox[
                        StyleBox[
                          TagBox[
                            StyleBox["a",
                              FontColor->RGBColor[1, 0, 0]],
                            (
                            StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                          
                          ShowContents->False],
                        (StyleForm[ #, ShowContents -> False]&)], 
                      TagBox[
                        StyleBox["a",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
                    Tensor[ \[Lambda], {
                      red[ a]}, {Void}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["\[Tau]", 
                      RowBox[{
                        TagBox[
                          StyleBox[
                            TagBox[
                              StyleBox["b",
                                FontColor->RGBColor[1, 0, 0]],
                              (
                              StyleForm[ #, FontColor -> RGBColor[ 
                                1, 0, 0]]&)],
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], 
                        TagBox[
                          StyleBox["c",
                            FontColor->RGBColor[1, 0, 0]],
                          (
                          StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}],
                       
                      RowBox[{
                        TagBox[
                          StyleBox["b",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                        
                        TagBox[
                          StyleBox[
                            TagBox[
                              StyleBox["c",
                                FontColor->RGBColor[1, 0, 0]],
                              (
                              StyleForm[ #, FontColor -> RGBColor[ 
                                1, 0, 0]]&)],
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ \[Tau], {
                      red[ b], Void}, {Void, 
                      red[ c]}],
                    Editable->False]}],
                Tensor[ 
                  Times[ 
                    Tensor[ \[Lambda], {
                      red[ a]}, {Void}], 
                    Tensor[ \[Tau], {
                      red[ b], Void}, {Void, 
                      red[ c]}]]],
                Editable->False], ")"}], 
            RowBox[{";", 
              RowBox[{
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]}]],
          CovariantD[ 
            Tensor[ 
              Times[ 
                Tensor[ \[Lambda], {
                  red[ a]}, {Void}], 
                Tensor[ \[Tau], {
                  red[ b], Void}, {Void, 
                  red[ c]}]]], {
            red[ c], 
            red[ b]}],
          Editable->False]}], "\[Equal]", 
      RowBox[{
        RowBox[{
          RowBox[{"-", 
            InterpretationBox[
              SubsuperscriptBox["R", 
                RowBox[{
                  TagBox[
                    StyleBox[
                      TagBox[
                        StyleBox["a",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox["e",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                  TagBox[
                    StyleBox["c",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                  TagBox[
                    StyleBox["d",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
                RowBox[{
                  TagBox[
                    StyleBox["a",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                  TagBox[
                    StyleBox[
                      TagBox[
                        StyleBox["e",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox[
                      TagBox[
                        StyleBox["c",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], 
                  TagBox[
                    StyleBox[
                      TagBox[
                        StyleBox["d",
                          FontColor->RGBColor[1, 0, 0]],
                        (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]}]],
              Tensor[ R, {
                red[ a], Void, Void, Void}, {Void, 
                red[ e], 
                red[ c], 
                red[ d]}],
              Editable->False]}], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", 
              TagBox[
                StyleBox[
                  TagBox[
                    StyleBox["e",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["e",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
            Tensor[ \[Lambda], {
              red[ e]}, {Void}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["b",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["c",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {
              red[ b], Void}, {Void, 
              red[ c]}],
            Editable->False]}], "+", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["e",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["d",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
              RowBox[{
                TagBox[
                  StyleBox["e",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["c",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["c",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["d",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {
              red[ e], Void, Void, Void}, {Void, 
              red[ c], 
              red[ c], 
              red[ d]}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", 
              TagBox[
                StyleBox[
                  TagBox[
                    StyleBox["a",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["a",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
            Tensor[ \[Lambda], {
              red[ a]}, {Void}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["b",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["e",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {
              red[ b], Void}, {Void, 
              red[ e]}],
            Editable->False]}], "-", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["R", 
              RowBox[{
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["b",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["e",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox["d",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
              RowBox[{
                TagBox[
                  StyleBox["b",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["e",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["c",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["d",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ R, {
              red[ b], Void, Void, Void}, {Void, 
              red[ e], 
              red[ c], 
              red[ d]}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Lambda]", 
              TagBox[
                StyleBox[
                  TagBox[
                    StyleBox["a",
                      FontColor->RGBColor[1, 0, 0]],
                    (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["a",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]],
            Tensor[ \[Lambda], {
              red[ a]}, {Void}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["\[Tau]", 
              RowBox[{
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["e",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], 
                TagBox[
                  StyleBox["c",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}], 
              RowBox[{
                TagBox[
                  StyleBox["e",
                    FontColor->RGBColor[1, 0, 0]],
                  (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                TagBox[
                  StyleBox[
                    TagBox[
                      StyleBox["c",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ \[Tau], {
              red[ e], Void}, {Void, 
              red[ c]}],
            Editable->False]}]}]}]], "Output",
  CellLabel->"Out[20]="]
}, Open  ]],

Cell["A term with bad indices will abort the operation.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(\[Lambda]u[a] \[Tau]ud[a, a]\), "\[IndentingNewLine]", 
    \(% // CovariantCommutator[{b, c}, R, d]\)}], "Input",
  CellLabel->"In[21]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["\[Lambda]", 
          TagBox[
            StyleBox["a",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "a"],
        Tensor[ \[Lambda], {a}, {Void}],
        Editable->False], " ", 
      InterpretationBox[
        SubsuperscriptBox["\[Tau]", 
          RowBox[{
            TagBox[
              StyleBox["a",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "a"}], 
          RowBox[{"a", 
            TagBox[
              StyleBox["a",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]}]],
        Tensor[ \[Tau], {a, Void}, {Void, a}],
        Editable->False]}]], "Output",
  CellLabel->"Out[21]="],

Cell[BoxData[
    RowBox[{\(CovariantCommutator::"indices"\), \(\(:\)\(\ \)\), "\<\"The \
term \\!\\(\\*InterpretationBox[\\(\[Lambda]\\_\\(\\*StyleBox[\\\"a\\\", \
Rule[ShowContents, False]]\\)\\%\\(a\\)\\), Tensor[\\\\[Lambda], List[a], \
List[Void]], Rule[Editable, False]]\\\\ \
\\*InterpretationBox[\\(\[Tau]\\_\\(\\*StyleBox[\\\"a\\\", Rule[ShowContents, \
False]]a\\)\\%\\(a\\*StyleBox[\\\"a\\\", Rule[ShowContents, False]]\\)\\), \
Tensor[\\\\[Tau], List[a, Void], List[Void, a]], Rule[Editable, False]]\\) \
has bad indices \\!\\({a}\\).\"\>"}]], "Message",
  CellLabel->"From In[21]:="],

Cell[BoxData[
    \($Aborted\)], "Output",
  CellLabel->"Out[22]="]
}, Open  ]],

Cell["Restore state.", "Text"],

Cell[BoxData[
    \(ClearTensorShortcuts[{\[Lambda], 1}, {\[Tau], 2}, {\[Tau], 
        3}]\)], "Input",
  CellLabel->"In[23]:="],

Cell[BoxData[
    \(\(DeclareIndexFlavor @@ oldflavors;\)\)], "Input",
  CellLabel->"In[24]:="],

Cell[BoxData[
    \(Clear[oldflavors]\)], "Input",
  CellLabel->"In[25]:="]
}, Open  ]]
}, Open  ]]
},
FrontEndVersion->"5.2 for Microsoft Windows",
ScreenRectangle->{{0, 1680}, {0, 965}},
ScreenStyleEnvironment->"Working",
WindowToolbars->{},
WindowSize->{665, 526},
WindowMargins->{{2, Automatic}, {Automatic, -1}},
ShowSelection->True,
CommonDefaultFormatTypes->{"Output"->StandardForm},
Magnification->1,
StyleDefinitions -> "HelpBrowser.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{
  "Function?"->{
    Cell[1776, 53, 66, 1, 41, "ObjectName",
      CellTags->"Function?"],
    Cell[1845, 56, 666, 23, 67, "Usage",
      CellTags->"Function?"]}
  }
*)

(*CellTagsIndex
CellTagsIndex->{
  {"Function?", 66162, 1788}
  }
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 66, 1, 41, "ObjectName",
  CellTags->"Function?"],
Cell[1845, 56, 666, 23, 67, "Usage",
  CellTags->"Function?"],
Cell[2514, 81, 72, 0, 41, "MathCaption"],
Cell[2589, 83, 85, 1, 41, "MathCaption"],
Cell[2677, 86, 161, 6, 41, "MathCaption"],

Cell[CellGroupData[{
Cell[2863, 96, 33, 0, 39, "ExampleSection"],
Cell[2899, 98, 96, 2, 29, "Input"],
Cell[2998, 102, 225, 5, 69, "Input"],
Cell[3226, 109, 51, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[3302, 113, 231, 5, 69, "Input"],
Cell[3536, 120, 304, 9, 27, "Output"],
Cell[3843, 131, 2689, 72, 29, "Output"]
}, Open  ]],
Cell[6547, 206, 50, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[6622, 210, 231, 5, 69, "Input"],
Cell[6856, 217, 304, 9, 27, "Output"],
Cell[7163, 228, 2757, 73, 29, "Output"]
}, Open  ]],
Cell[9935, 304, 47, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[10007, 308, 232, 5, 69, "Input"],
Cell[10242, 315, 474, 14, 28, "Output"],
Cell[10719, 331, 4978, 128, 31, "Output"]
}, Open  ]],
Cell[15712, 462, 55, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[15792, 466, 246, 5, 69, "Input"],
Cell[16041, 473, 614, 18, 27, "Output"],
Cell[16658, 493, 5826, 148, 29, "Output"]
}, Open  ]],

Cell[CellGroupData[{
Cell[22521, 646, 221, 5, 69, "Input"],
Cell[22745, 653, 643, 19, 28, "Output"],
Cell[23391, 674, 6763, 173, 30, "Output"]
}, Open  ]],
Cell[30169, 850, 61, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[30255, 854, 246, 5, 69, "Input"],
Cell[30504, 861, 614, 18, 27, "Output"],
Cell[31121, 881, 2712, 67, 29, "Output"]
}, Open  ]],

Cell[CellGroupData[{
Cell[33870, 953, 247, 5, 69, "Input"],
Cell[34120, 960, 815, 24, 28, "Output"],
Cell[34938, 986, 4985, 125, 31, "Output"]
}, Open  ]],
Cell[39938, 1114, 105, 3, 25, "Text"],

Cell[CellGroupData[{
Cell[40068, 1121, 310, 7, 89, "Input"],
Cell[40381, 1130, 1840, 51, 28, "Output"],
Cell[42224, 1183, 21027, 513, 31, "Output"]
}, Open  ]],
Cell[63266, 1699, 65, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[63356, 1703, 160, 3, 49, "Input"],
Cell[63519, 1708, 815, 24, 28, "Output"],
Cell[64337, 1734, 596, 9, 21, "Message"],
Cell[64936, 1745, 67, 2, 27, "Output"]
}, Open  ]],
Cell[65018, 1750, 30, 0, 25, "Text"],
Cell[65051, 1752, 129, 3, 29, "Input"],
Cell[65183, 1757, 95, 2, 29, "Input"],
Cell[65281, 1761, 75, 2, 29, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

