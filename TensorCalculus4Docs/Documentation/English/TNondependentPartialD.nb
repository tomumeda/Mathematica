(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.2'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[     85726,       2230]*)
(*NotebookOutlinePosition[     86750,       2266]*)
(*  CellTagsIndexPosition[     86674,       2260]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["NondependentPartialD", "ObjectName",
  CellTags->"Function?"],

Cell[TextData[{
  "\[FilledSmallSquare] ",
  Cell[BoxData[
      RowBox[{
        RowBox[{
          StyleBox[
            RowBox[{"Nondependent", 
              StyleBox["PartialD",
                "MR"]}]], 
          StyleBox["[",
            "MR"], 
          StyleBox[\({lab1, lab2, \[Ellipsis]} \[Ellipsis]\),
            "TI"], 
          StyleBox["]",
            "MR"]}], 
        StyleBox["[",
          "MR"], 
        StyleBox["expr",
          "TI"], 
        StyleBox["]",
          "MR"]}]]],
  " will implement the assumption that Tensor labels, {lab1,lab2,...} are \
nondependent so that a partial derivative of one with respect to another will \
be zero."
}], "Usage",
  CellTags->"Function?"],

Cell["\<\
 Multiple lists of nondependent Tensor labels may be provided.\
\>", "MathCaption"],

Cell[TextData[{
  "See also: ",
  ButtonBox["PartialD",
    ButtonData:>{"PartialD"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ExpandPartialD",
    ButtonData:>{"ExpandPartialD"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["TotalD",
    ButtonData:>{"TotalD"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["CovariantD",
    ButtonData:>{"CovariantD"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["AbsoluteD",
    ButtonData:>{"AbsoluteD"},
    ButtonStyle->"AddOnsLink"],
  "."
}], "MathCaption"],

Cell[CellGroupData[{

Cell["Examples", "ExampleSection"],

Cell[BoxData[
    \(Needs["\<TensorCalculus4`Tensorial`\>"]\)], "Input",
  CellLabel->"In[1]:="],

Cell[BoxData[
    \(\(oldbasis = CompleteBaseIndices;\)\)], "Input",
  CellLabel->"In[2]:="],

Cell[BoxData[{
    \(DefineTensorShortcuts[{{x, y, z, f}, 1}, {{\[Eta], \[Delta]}, 
        2}]\), "\[IndentingNewLine]", 
    \(\(labs = {x, \[Delta], g, \[CapitalGamma]};\)\)}], "Input",
  CellLabel->"In[3]:="],

Cell["Here is an expression involving partial differentials.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
    \(expr = \(PartialD[labs]\)[yu[i], 
          Tensor /@ {\[Phi], \[Psi]}] + \(PartialD[labs]\)[xu[i], 
          zu[j]] + \(PartialD[labs]\)[zu[i], xu[j]] + \(PartialD[labs]\)[
          yu[i], xu[j]]\)], "Input",
  CellLabel->"In[5]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[5]="]
}, Open  ]],

Cell[TextData[{
  "Here we specify that ",
  Cell[BoxData[
      \(y\)]],
  " and ",
  Cell[BoxData[
      \(\[Phi]\)]],
  " are independent. Notice that ",
  Cell[BoxData[
      \(y\)]],
  " is still dependent on ",
  Cell[BoxData[
      \(x\)]],
  " so that term is not zeroed."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(expr\), "\[IndentingNewLine]", 
    \(% // NondependentPartialD[{y, \[Phi]}]\)}], "Input",
  CellLabel->"In[6]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[6]="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[7]="]
}, Open  ]],

Cell[TextData[{
  "Here we specify that ",
  Cell[BoxData[
      \(y\)]],
  " is independent of ",
  Cell[BoxData[
      \(x\)]],
  " but not of ",
  Cell[BoxData[
      \(\[Phi]\)]],
  " or ",
  Cell[BoxData[
      \(\[Psi]\)]],
  "."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(expr\), "\[IndentingNewLine]", 
    \(% // NondependentPartialD[{y, x}]\)}], "Input",
  CellLabel->"In[8]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[8]="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[9]="]
}, Open  ]],

Cell[TextData[{
  "Here we specify that ",
  Cell[BoxData[
      \(x\)]],
  " and ",
  Cell[BoxData[
      \(z\)]],
  " are independent. Both partial derivatives are eliminated."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(expr\), "\[IndentingNewLine]", 
    \(% // NondependentPartialD[{x, z}]\)}], "Input",
  CellLabel->"In[10]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[10]="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[11]="]
}, Open  ]],

Cell["Here all the variables are independent...", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(expr\), "\[IndentingNewLine]", 
    \(% // NondependentPartialD[{x, y, z, \[Phi], \[Psi]}]\)}], "Input",
  CellLabel->"In[12]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ x, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ z, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ x, {i}, {Void}], 
          Tensor[ z, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False], "\[PartialD]", 
            InterpretationBox["\[Psi]",
              Tensor[ \[Psi]],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], {
          Tensor[ \[Phi]], 
          Tensor[ \[Psi]]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["y", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ y, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ y, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["z", 
                TagBox[
                  StyleBox["i",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "i"],
              Tensor[ z, {i}, {Void}],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["j",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "j"],
              Tensor[ x, {j}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], g, \[CapitalGamma]}][ 
          Tensor[ z, {i}, {Void}], 
          Tensor[ x, {j}, {Void}]],
        Editable->False]}]], "Output",
  CellLabel->"Out[12]="],

Cell[BoxData[
    \(0\)], "Output",
  CellLabel->"Out[13]="]
}, Open  ]],

Cell["\<\
Sometimes we want derivatives of certain tensors to be zero. We illustrate \
this by writing a routine that will derive the scalar Euler-Lagrange equation \
from the Lagrangian for the Klein-Gordon equation.\
\>", "Text"],

Cell[BoxData[{
    \(DeclareBaseIndices[{0, 1, 2, 3}]\), "\[IndentingNewLine]", 
    \(\(\(SetTensorValueRules[#, 
            DiagonalMatrix[{\(-1\), 1, 1, 1}]] &\) /@ {\[Eta]dd[a, 
            b], \[Eta]uu[a, b]};\)\), "\[IndentingNewLine]", 
    \(\(labs = {x, \[Delta], \[Eta], \[CapitalGamma]};\)\)}], "Input",
  CellLabel->"In[14]:="],

Cell["The real Klein-Gordon Lagrangian is:", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
    \(RKGL = \[IndentingNewLine]1/2 \( PartialD[labs]\)[Tensor[\[Phi]], 
            xu[\[Mu]]]*\(PartialD[labs]\)[Tensor[\[Phi]], 
            xu[\[Nu]]] \[Eta]uu[\[Mu], \[Nu]] - 
        m^2/2*Tensor[\[Phi]]^2\)], "Input",
  CellLabel->"In[17]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(-\(1\/2\)\), " ", \(m\^2\), " ", 
        TagBox[
          SuperscriptBox[
            RowBox[{"(", 
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False], ")"}], "2"],
          DisplayForm]}], "+", 
      RowBox[{\(1\/2\), " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Eta]", 
            RowBox[{
              TagBox[
                StyleBox["\[Mu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["\[Nu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}], \(\[Mu]  \[Nu]\)],
          
          Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
          Editable->False], " ", 
        InterpretationBox[
          FractionBox[
            RowBox[{"\[PartialD]", 
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False]}], 
            RowBox[{"\[PartialD]", 
              InterpretationBox[
                SubsuperscriptBox["x", 
                  TagBox[
                    StyleBox["\[Mu]",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"],
                Tensor[ x, {\[Mu]}, {Void}],
                Editable->False]}]],
          PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
            Tensor[ \[Phi]], 
            Tensor[ x, {\[Mu]}, {Void}]],
          Editable->False], " ", 
        InterpretationBox[
          FractionBox[
            RowBox[{"\[PartialD]", 
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False]}], 
            RowBox[{"\[PartialD]", 
              InterpretationBox[
                SubsuperscriptBox["x", 
                  TagBox[
                    StyleBox["\[Nu]",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)], "\[Nu]"],
                Tensor[ x, {\[Nu]}, {Void}],
                Editable->False]}]],
          PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
            Tensor[ \[Phi]], 
            Tensor[ x, {\[Nu]}, {Void}]],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[17]="]
}, Open  ]],

Cell["Where m is a constant", "Text"],

Cell[BoxData[
    \(\(Attributes[m] = {Constant};\)\)], "Input",
  CellLabel->"In[18]:="],

Cell["But it is better to make a variable change", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
    \(RKGLmod\  = \ \[IndentingNewLine]RKGL /. \(PartialD[labs]\)[
            Tensor[\[Phi]], \ xu[\[Nu]_]\ ] \[Rule] fd[\[Nu]]\)], "Input",
  CellLabel->"In[19]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(-\(1\/2\)\), " ", \(m\^2\), " ", 
        TagBox[
          SuperscriptBox[
            RowBox[{"(", 
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False], ")"}], "2"],
          DisplayForm]}], "+", 
      RowBox[{\(1\/2\), " ", 
        InterpretationBox[
          SubsuperscriptBox["f", "\[Mu]", 
            TagBox[
              StyleBox["\[Mu]",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]],
          Tensor[ f, {Void}, {\[Mu]}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["f", "\[Nu]", 
            TagBox[
              StyleBox["\[Nu]",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]],
          Tensor[ f, {Void}, {\[Nu]}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Eta]", 
            RowBox[{
              TagBox[
                StyleBox["\[Mu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["\[Nu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}], \(\[Mu]  \[Nu]\)],
          
          Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[19]="]
}, Open  ]],

Cell[TextData[{
  "We can then calculate the Euler-Lagrange equation by using the fact that \
",
  Cell[BoxData[
      \({\[Eta], x}\)]],
  " are independent and ",
  Cell[BoxData[
      \({\[Eta], f, \[Phi]}\)]],
  " are independent."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Print["\<Modified Lagrangian...\>"]\), "\[IndentingNewLine]", 
    \(RKGLmod\), "\[IndentingNewLine]", 
    \(Print["\<Euler-Lagrange equations \[PartialD]x \[PartialD]f (L) - \
\[PartialD]\[Phi](L)\>"]\), "\[IndentingNewLine]", 
    \(\(PartialD[labs]\)[\(PartialD[{f, \[Delta], \[Eta], \[CapitalGamma]}]\)[
          RKGLmod, fd[r]], 
        xu[r]] - \(PartialD[{\[Phi], \[Delta], g, \[CapitalGamma]}]\)[
        RKGLmod, Tensor[\[Phi]]]\), "\[IndentingNewLine]", 
    \(Print["\<Eliminating nondependencies...\>"]\), "\[IndentingNewLine]", 
    \(%% // 
      NondependentPartialD[{\[Eta], x}, {\[Eta], 
          f, \[Phi]}]\), "\[IndentingNewLine]", 
    \(Print["\<Absorbing the Kronecker.\>"]\), "\[IndentingNewLine]", 
    \(%% // KroneckerAbsorb[\[Delta]]\), "\[IndentingNewLine]", 
    \(Print["\<Making the reverse substitution for the f's.\>"]\), "\
\[IndentingNewLine]", 
    \(%% /. 
      fd[\[Nu]_] \[Rule] \(PartialD[labs]\)[Tensor[\[Phi]], \ 
          xu[\[Nu]]]\), "\[IndentingNewLine]", 
    \(Print["\<Expanding.\>"]\), "\[IndentingNewLine]", 
    \(%% // ToArrayValues[]\)}], "Input",
  CellLabel->"In[20]:="],

Cell[BoxData[
    \("Modified Lagrangian..."\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(-\(1\/2\)\), " ", \(m\^2\), " ", 
        TagBox[
          SuperscriptBox[
            RowBox[{"(", 
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False], ")"}], "2"],
          DisplayForm]}], "+", 
      RowBox[{\(1\/2\), " ", 
        InterpretationBox[
          SubsuperscriptBox["f", "\[Mu]", 
            TagBox[
              StyleBox["\[Mu]",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]],
          Tensor[ f, {Void}, {\[Mu]}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["f", "\[Nu]", 
            TagBox[
              StyleBox["\[Nu]",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)]],
          Tensor[ f, {Void}, {\[Nu]}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["\[Eta]", 
            RowBox[{
              TagBox[
                StyleBox["\[Mu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], 
              TagBox[
                StyleBox["\[Nu]",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}], \(\[Mu]  \[Nu]\)],
          
          Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[21]="],

Cell[BoxData[
    \("Euler-Lagrange equations \[PartialD]x \[PartialD]f (L) - \[PartialD]\
\[Phi](L)"\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(m\^2\), " ", 
        InterpretationBox["\[Phi]",
          Tensor[ \[Phi]],
          Editable->False]}], "-", 
      RowBox[{\(m\^2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox["\[Phi]",
                      Tensor[ \[Phi]],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "r", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {r}],
                      Editable->False]}]],
                PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ \[Phi]], 
                  Tensor[ f, {Void}, {r}]],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox["\[Phi]",
                      Tensor[ \[Phi]],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ \[Phi]], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox["\[Phi]",
                Tensor[ \[Phi]],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox["\[Phi]",
                            Tensor[ \[Phi]],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["f", "r", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)]],
                            Tensor[ f, {Void}, {r}],
                            Editable->False]}]],
                      PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        Tensor[ \[Phi]], 
                        Tensor[ f, {Void}, {r}]],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                    Tensor[ \[Phi]], 
                    Tensor[ f, {Void}, {r}]], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}]}], ")"}]}], "+", 
      RowBox[{\(1\/2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              RowBox[{"(", 
                RowBox[{
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["\[Delta]", 
                        RowBox[{
                          TagBox[
                            StyleBox["r",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)], 
                          "\[Nu]"}], 
                        RowBox[{"r", 
                          TagBox[
                            StyleBox["\[Nu]",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)]}]],
                      Tensor[ \[Delta], {r, Void}, {Void, \[Nu]}],
                      Editable->False], " ", 
                    InterpretationBox[
                      SubsuperscriptBox["\[Eta]", 
                        RowBox[{
                          TagBox[
                            StyleBox["\[Mu]",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)], 
                          TagBox[
                            StyleBox["\[Nu]",
                              ShowContents->False],
                            (
                            StyleForm[ #, ShowContents -> 
                              False]&)]}], \(\[Mu]  \[Nu]\)],
                      Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                      Editable->False]}], "+", 
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["\[Eta]", 
                              RowBox[{
                                TagBox[
                                  StyleBox["\[Mu]",
                                    ShowContents->False],
                                  (StyleForm[ #, ShowContents -> False]&)], 
                                TagBox[
                                  StyleBox["\[Nu]",
                                    ShowContents->False],
                                  (
                                  StyleForm[ #, ShowContents -> 
                                    False]&)]}], \(\[Mu]  \[Nu]\)],
                            Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["f", "r", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)]],
                            Tensor[ f, {Void}, {r}],
                            Editable->False]}]],
                      PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                        Tensor[ f, {Void}, {r}]],
                      Editable->False]}]}], ")"}], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Mu]", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Mu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Mu]}], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Delta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["r",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"}], 
                  RowBox[{"r", 
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}]],
                Tensor[ \[Delta], {r, Void}, {Void, \[Mu]}],
                Editable->False], " ", 
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Nu]}], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["f", "\[Nu]", 
                  TagBox[
                    StyleBox["\[Nu]",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]],
                Tensor[ f, {Void}, {\[Nu]}],
                Editable->False], " ", 
              InterpretationBox[
                SubsuperscriptBox["\[Delta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["r",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"}], 
                  RowBox[{"r", 
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}]],
                Tensor[ \[Delta], {r, Void}, {Void, \[Mu]}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["\[Eta]", 
                        RowBox[{
                          TagBox[
                            StyleBox["\[Mu]",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)], 
                          TagBox[
                            StyleBox["\[Nu]",
                              ShowContents->False],
                            (
                            StyleForm[ #, ShowContents -> 
                              False]&)]}], \(\[Mu]  \[Nu]\)],
                      Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["f", "\[Mu]", 
                  TagBox[
                    StyleBox["\[Mu]",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]],
                Tensor[ f, {Void}, {\[Mu]}],
                Editable->False], " ", 
              RowBox[{"(", 
                RowBox[{
                  RowBox[{
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["\[Eta]", 
                              RowBox[{
                                TagBox[
                                  StyleBox["\[Mu]",
                                    ShowContents->False],
                                  (StyleForm[ #, ShowContents -> False]&)], 
                                TagBox[
                                  StyleBox["\[Nu]",
                                    ShowContents->False],
                                  (
                                  StyleForm[ #, ShowContents -> 
                                    False]&)]}], \(\[Mu]  \[Nu]\)],
                            Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["f", "r", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)]],
                            Tensor[ f, {Void}, {r}],
                            Editable->False]}]],
                      PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                        Tensor[ f, {Void}, {r}]],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["f", "\[Nu]", 
                              TagBox[
                                StyleBox["\[Nu]",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)]],
                            Tensor[ f, {Void}, {\[Nu]}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["x", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)], 
                              "r"],
                            Tensor[ x, {r}, {Void}],
                            Editable->False]}]],
                      PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        Tensor[ f, {Void}, {\[Nu]}], 
                        Tensor[ x, {r}, {Void}]],
                      Editable->False]}], "+", 
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["\[Delta]", 
                        RowBox[{
                          TagBox[
                            StyleBox["r",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)], 
                          "\[Nu]"}], 
                        RowBox[{"r", 
                          TagBox[
                            StyleBox["\[Nu]",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)]}]],
                      Tensor[ \[Delta], {r, Void}, {Void, \[Nu]}],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["\[Eta]", 
                              RowBox[{
                                TagBox[
                                  StyleBox["\[Mu]",
                                    ShowContents->False],
                                  (StyleForm[ #, ShowContents -> False]&)], 
                                TagBox[
                                  StyleBox["\[Nu]",
                                    ShowContents->False],
                                  (
                                  StyleForm[ #, ShowContents -> 
                                    False]&)]}], \(\[Mu]  \[Nu]\)],
                            Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["x", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)], 
                              "r"],
                            Tensor[ x, {r}, {Void}],
                            Editable->False]}]],
                      PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                        Tensor[ x, {r}, {Void}]],
                      Editable->False]}], "+", 
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            FractionBox[
                              RowBox[{"\[PartialD]", 
                                InterpretationBox[
                                  SubsuperscriptBox["\[Eta]", 
                                    RowBox[{
                                      TagBox[
                                        StyleBox["\[Mu]",
                                        ShowContents->False],
                                        (
                                        StyleForm[ #, ShowContents -> 
                                        False]&)], 
                                      TagBox[
                                        StyleBox["\[Nu]",
                                        ShowContents->False],
                                        (
                                        StyleForm[ #, ShowContents -> 
                                        False]&)]}], \(\[Mu]  \[Nu]\)],
                                  
                                  Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, 
                                    Void}],
                                  Editable->False]}], 
                              RowBox[{"\[PartialD]", 
                                InterpretationBox[
                                  SubsuperscriptBox["f", "r", 
                                    TagBox[
                                      StyleBox["r",
                                        ShowContents->False],
                                      (
                                      StyleForm[ #, ShowContents -> 
                                        False]&)]],
                                  Tensor[ f, {Void}, {r}],
                                  Editable->False]}]],
                            PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][
                             
                              Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                              Tensor[ f, {Void}, {r}]],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["x", 
                              TagBox[
                                StyleBox["r",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)], 
                              "r"],
                            Tensor[ x, {r}, {Void}],
                            Editable->False]}]],
                      PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                        PartialD[ {f, \[Delta], \[Eta], \[CapitalGamma]}][ 
                          Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                          Tensor[ f, {Void}, {r}]], 
                        Tensor[ x, {r}, {Void}]],
                      Editable->False]}]}], ")"}]}]}], ")"}]}], "+", 
      RowBox[{\(1\/2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              RowBox[{"-", 
                InterpretationBox[
                  SubsuperscriptBox["f", "\[Nu]", 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]],
                  Tensor[ f, {Void}, {\[Nu]}],
                  Editable->False]}], " ", 
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Mu]", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Mu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox["\[Phi]",
                      Tensor[ \[Phi]],
                      Editable->False]}]],
                PartialD[ {\[Phi], \[Delta], g, \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Mu]}], 
                  Tensor[ \[Phi]]],
                Editable->False]}], "-", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["f", "\[Mu]", 
                  TagBox[
                    StyleBox["\[Mu]",
                      ShowContents->False],
                    (StyleForm[ #, ShowContents -> False]&)]],
                Tensor[ f, {Void}, {\[Mu]}],
                Editable->False], " ", 
              RowBox[{"(", 
                RowBox[{
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["\[Eta]", 
                        RowBox[{
                          TagBox[
                            StyleBox["\[Mu]",
                              ShowContents->False],
                            (StyleForm[ #, ShowContents -> False]&)], 
                          TagBox[
                            StyleBox["\[Nu]",
                              ShowContents->False],
                            (
                            StyleForm[ #, ShowContents -> 
                              False]&)]}], \(\[Mu]  \[Nu]\)],
                      Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["f", "\[Nu]", 
                              TagBox[
                                StyleBox["\[Nu]",
                                  ShowContents->False],
                                (StyleForm[ #, ShowContents -> False]&)]],
                            Tensor[ f, {Void}, {\[Nu]}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox["\[Phi]",
                            Tensor[ \[Phi]],
                            Editable->False]}]],
                      PartialD[ {\[Phi], \[Delta], g, \[CapitalGamma]}][ 
                        Tensor[ f, {Void}, {\[Nu]}], 
                        Tensor[ \[Phi]]],
                      Editable->False]}], "+", 
                  RowBox[{
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False], " ", 
                    InterpretationBox[
                      FractionBox[
                        RowBox[{"\[PartialD]", 
                          InterpretationBox[
                            SubsuperscriptBox["\[Eta]", 
                              RowBox[{
                                TagBox[
                                  StyleBox["\[Mu]",
                                    ShowContents->False],
                                  (StyleForm[ #, ShowContents -> False]&)], 
                                TagBox[
                                  StyleBox["\[Nu]",
                                    ShowContents->False],
                                  (
                                  StyleForm[ #, ShowContents -> 
                                    False]&)]}], \(\[Mu]  \[Nu]\)],
                            Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                            Editable->False]}], 
                        RowBox[{"\[PartialD]", 
                          InterpretationBox["\[Phi]",
                            Tensor[ \[Phi]],
                            Editable->False]}]],
                      PartialD[ {\[Phi], \[Delta], g, \[CapitalGamma]}][ 
                        Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}], 
                        Tensor[ \[Phi]]],
                      Editable->False]}]}], ")"}]}]}], ")"}]}]}]], "Output",
  CellLabel->"Out[23]="],

Cell[BoxData[
    \("Eliminating nondependencies..."\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(m\^2\), " ", 
        InterpretationBox["\[Phi]",
          Tensor[ \[Phi]],
          Editable->False]}], "+", 
      RowBox[{\(1\/2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Delta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["r",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "\[Nu]"}], 
                  RowBox[{"r", 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}]],
                Tensor[ \[Delta], {r, Void}, {Void, \[Nu]}],
                Editable->False], " ", 
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Mu]", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Mu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Mu]}], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Delta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["r",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"}], 
                  RowBox[{"r", 
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}]],
                Tensor[ \[Delta], {r, Void}, {Void, \[Mu]}],
                Editable->False], " ", 
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["r",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "r"],
                      Tensor[ x, {r}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Nu]}], 
                  Tensor[ x, {r}, {Void}]],
                Editable->False]}]}], ")"}]}]}]], "Output",
  CellLabel->"Out[25]="],

Cell[BoxData[
    \("Absorbing the Kronecker."\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(m\^2\), " ", 
        InterpretationBox["\[Phi]",
          Tensor[ \[Phi]],
          Editable->False]}], "+", 
      RowBox[{\(1\/2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Mu]", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Mu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Nu]"],
                      Tensor[ x, {\[Nu]}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Mu]}], 
                  Tensor[ x, {\[Nu]}, {Void}]],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["f", "\[Nu]", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]],
                      Tensor[ f, {Void}, {\[Nu]}],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"],
                      Tensor[ x, {\[Mu]}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ f, {Void}, {\[Nu]}], 
                  Tensor[ x, {\[Mu]}, {Void}]],
                Editable->False]}]}], ")"}]}]}]], "Output",
  CellLabel->"Out[27]="],

Cell[BoxData[
    \("Making the reverse substitution for the f's."\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(m\^2\), " ", 
        InterpretationBox["\[Phi]",
          Tensor[ \[Phi]],
          Editable->False]}], "+", 
      RowBox[{\(1\/2\), " ", 
        RowBox[{"(", 
          RowBox[{
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{\(\[PartialD]\^2\), 
                    InterpretationBox["\[Phi]",
                      Tensor[ \[Phi]],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"],
                      Tensor[ x, {\[Mu]}, {Void}],
                      Editable->False], "\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Nu]"],
                      Tensor[ x, {\[Nu]}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ \[Phi]], {
                  Tensor[ x, {\[Mu]}, {Void}], 
                  Tensor[ x, {\[Nu]}, {Void}]}],
                Editable->False]}], "+", 
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["\[Eta]", 
                  RowBox[{
                    TagBox[
                      StyleBox["\[Mu]",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox["\[Nu]",
                        ShowContents->False],
                      (
                      StyleForm[ #, ShowContents -> 
                        False]&)]}], \(\[Mu]  \[Nu]\)],
                Tensor[ \[Eta], {\[Mu], \[Nu]}, {Void, Void}],
                Editable->False], " ", 
              InterpretationBox[
                FractionBox[
                  RowBox[{\(\[PartialD]\^2\), 
                    InterpretationBox["\[Phi]",
                      Tensor[ \[Phi]],
                      Editable->False]}], 
                  RowBox[{"\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Nu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Nu]"],
                      Tensor[ x, {\[Nu]}, {Void}],
                      Editable->False], "\[PartialD]", 
                    InterpretationBox[
                      SubsuperscriptBox["x", 
                        TagBox[
                          StyleBox["\[Mu]",
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)], "\[Mu]"],
                      Tensor[ x, {\[Mu]}, {Void}],
                      Editable->False]}]],
                PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
                  Tensor[ \[Phi]], {
                  Tensor[ x, {\[Nu]}, {Void}], 
                  Tensor[ x, {\[Mu]}, {Void}]}],
                Editable->False]}]}], ")"}]}]}]], "Output",
  CellLabel->"Out[29]="],

Cell[BoxData[
    \("Expanding."\)], "Print",
  CellLabel->"From In[20]:="],

Cell[BoxData[
    RowBox[{
      RowBox[{\(m\^2\), " ", 
        InterpretationBox["\[Phi]",
          Tensor[ \[Phi]],
          Editable->False]}], "-", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["0",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "0"],
              Tensor[ x, {0}, {Void}],
              Editable->False], "\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["0",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "0"],
              Tensor[ x, {0}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
          Tensor[ \[Phi]], {
          Tensor[ x, {0}, {Void}], 
          Tensor[ x, {0}, {Void}]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["1",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "1"],
              Tensor[ x, {1}, {Void}],
              Editable->False], "\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["1",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "1"],
              Tensor[ x, {1}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
          Tensor[ \[Phi]], {
          Tensor[ x, {1}, {Void}], 
          Tensor[ x, {1}, {Void}]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["2",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "2"],
              Tensor[ x, {2}, {Void}],
              Editable->False], "\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["2",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "2"],
              Tensor[ x, {2}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
          Tensor[ \[Phi]], {
          Tensor[ x, {2}, {Void}], 
          Tensor[ x, {2}, {Void}]}],
        Editable->False], "+", 
      InterpretationBox[
        FractionBox[
          RowBox[{\(\[PartialD]\^2\), 
            InterpretationBox["\[Phi]",
              Tensor[ \[Phi]],
              Editable->False]}], 
          RowBox[{"\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["3",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "3"],
              Tensor[ x, {3}, {Void}],
              Editable->False], "\[PartialD]", 
            InterpretationBox[
              SubsuperscriptBox["x", 
                TagBox[
                  StyleBox["3",
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)], "3"],
              Tensor[ x, {3}, {Void}],
              Editable->False]}]],
        PartialD[ {x, \[Delta], \[Eta], \[CapitalGamma]}][ 
          Tensor[ \[Phi]], {
          Tensor[ x, {3}, {Void}], 
          Tensor[ x, {3}, {Void}]}],
        Editable->False]}]], "Output",
  CellLabel->"Out[31]="]
}, Open  ]],

Cell["Restore settings.", "Text"],

Cell[BoxData[{
    \(\(ClearTensorValues /@ {\[Eta]dd[i, j], \[Eta]uu[i, 
            j]};\)\), "\[IndentingNewLine]", 
    \(ClearTensorShortcuts[{{x, y, z, f}, 1}, {{\[Eta], \[Delta]}, 
        2}]\), "\[IndentingNewLine]", 
    \(\(ClearAll[m];\)\)}], "Input",
  CellLabel->"In[32]:="],

Cell[BoxData[{
    \(DeclareBaseIndices @@ oldbasis\), "\[IndentingNewLine]", 
    \(Clear[oldindices, labs, RKGL, RKGLmod]\)}], "Input",
  CellLabel->"In[35]:="]
}, Open  ]]
}, Open  ]]
},
FrontEndVersion->"5.2 for Microsoft Windows",
ScreenRectangle->{{0, 1680}, {0, 965}},
ScreenStyleEnvironment->"Working",
WindowToolbars->{},
WindowSize->{665, 474},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
ShowSelection->True,
CommonDefaultFormatTypes->{"Output"->StandardForm},
Magnification->1,
StyleDefinitions -> "HelpBrowser.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{
  "Function?"->{
    Cell[1776, 53, 67, 1, 41, "ObjectName",
      CellTags->"Function?"],
    Cell[1846, 56, 711, 25, 50, "Usage",
      CellTags->"Function?"]}
  }
*)

(*CellTagsIndex
CellTagsIndex->{
  {"Function?", 86503, 2251}
  }
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 67, 1, 41, "ObjectName",
  CellTags->"Function?"],
Cell[1846, 56, 711, 25, 50, "Usage",
  CellTags->"Function?"],
Cell[2560, 83, 93, 2, 41, "MathCaption"],
Cell[2656, 87, 532, 22, 41, "MathCaption"],

Cell[CellGroupData[{
Cell[3213, 113, 34, 0, 39, "ExampleSection"],
Cell[3250, 115, 96, 2, 29, "Input"],
Cell[3349, 119, 92, 2, 29, "Input"],
Cell[3444, 123, 212, 4, 49, "Input"],
Cell[3659, 129, 70, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[3754, 133, 255, 5, 49, "Input"],
Cell[4012, 140, 3550, 97, 51, "Output"]
}, Open  ]],
Cell[7577, 240, 292, 14, 25, "Text"],

Cell[CellGroupData[{
Cell[7894, 258, 135, 3, 49, "Input"],
Cell[8032, 263, 3550, 97, 51, "Output"],
Cell[11585, 362, 2718, 74, 51, "Output"]
}, Open  ]],
Cell[14318, 439, 247, 14, 25, "Text"],

Cell[CellGroupData[{
Cell[14590, 457, 130, 3, 49, "Input"],
Cell[14723, 462, 3550, 97, 51, "Output"],
Cell[18276, 561, 2663, 73, 51, "Output"]
}, Open  ]],
Cell[20954, 637, 190, 8, 25, "Text"],

Cell[CellGroupData[{
Cell[21169, 649, 131, 3, 49, "Input"],
Cell[21303, 654, 3551, 97, 51, "Output"],
Cell[24857, 753, 1777, 49, 51, "Output"]
}, Open  ]],
Cell[26649, 805, 57, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[26731, 809, 150, 3, 49, "Input"],
Cell[26884, 814, 3551, 97, 51, "Output"],
Cell[30438, 913, 60, 2, 27, "Output"]
}, Open  ]],
Cell[30513, 918, 231, 4, 42, "Text"],
Cell[30747, 924, 340, 6, 89, "Input"],
Cell[31090, 932, 52, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[31167, 936, 263, 5, 69, "Input"],
Cell[31433, 943, 2355, 63, 46, "Output"]
}, Open  ]],
Cell[33803, 1009, 37, 0, 25, "Text"],
Cell[33843, 1011, 89, 2, 29, "Input"],
Cell[33935, 1015, 58, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[34018, 1019, 180, 3, 49, "Input"],
Cell[34201, 1024, 1461, 41, 40, "Output"]
}, Open  ]],
Cell[35677, 1068, 247, 9, 42, "Text"],

Cell[CellGroupData[{
Cell[35949, 1081, 1154, 22, 269, "Input"],
Cell[37106, 1105, 87, 2, 23, "Print"],
Cell[37196, 1109, 1461, 41, 40, "Output"],
Cell[38660, 1152, 144, 3, 23, "Print"],
Cell[38807, 1157, 28625, 608, 264, "Output"],
Cell[67435, 1767, 95, 2, 23, "Print"],
Cell[67533, 1771, 4997, 117, 50, "Output"],
Cell[72533, 1890, 89, 2, 23, "Print"],
Cell[72625, 1894, 3815, 89, 51, "Output"],
Cell[76443, 1985, 109, 2, 23, "Print"],
Cell[76555, 1989, 4187, 97, 49, "Output"],
Cell[80745, 2088, 75, 2, 23, "Print"],
Cell[80823, 2092, 4371, 118, 47, "Output"]
}, Open  ]],
Cell[85209, 2213, 33, 0, 25, "Text"],
Cell[85245, 2215, 288, 6, 69, "Input"],
Cell[85536, 2223, 162, 3, 49, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

