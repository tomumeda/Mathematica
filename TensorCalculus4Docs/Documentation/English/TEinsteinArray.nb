(************** Content-type: application/mathematica **************
                     CreatedBy='Mathematica 5.2'

                    Mathematica-Compatible Notebook

This notebook can be used with any Mathematica-compatible
application, such as Mathematica, MathReader or Publicon. The data
for the notebook starts with the line containing stars above.

To get the notebook into a Mathematica-compatible application, do
one of the following:

* Save the data starting with the line of stars above into a file
  with a name ending in .nb, then open the file inside the
  application;

* Copy the data starting with the line of stars above to the
  clipboard, then use the Paste menu command inside the application.

Data for notebooks contains only printable 7-bit ASCII and can be
sent directly in email or through ftp in text mode.  Newlines can be
CR, LF or CRLF (Unix, Macintosh or MS-DOS style).

NOTE: If you modify the data for this notebook not in a Mathematica-
compatible application, you must delete the line below containing
the word CacheID, otherwise Mathematica-compatible applications may
try to use invalid cache data.

For more information on notebooks and Mathematica-compatible 
applications, contact Wolfram Research:
  web: http://www.wolfram.com
  email: info@wolfram.com
  phone: +1-217-398-0700 (U.S.)

Notebook reader applications are available free of charge from 
Wolfram Research.
*******************************************************************)

(*CacheID: 232*)


(*NotebookFileLineBreakTest
NotebookFileLineBreakTest*)
(*NotebookOptionsPosition[    137129,       3520]*)
(*NotebookOutlinePosition[    138154,       3556]*)
(*  CellTagsIndexPosition[    138077,       3550]*)
(*WindowFrame->Normal*)



Notebook[{

Cell[CellGroupData[{
Cell["EinsteinArray", "ObjectName",
  CellTags->"Function?"],

Cell[TextData[{
  "\[FilledSmallSquare] ",
  Cell[BoxData[
      RowBox[{
        RowBox[{
          StyleBox["EinsteinArray",
            "MR"], 
          StyleBox["[",
            "MR"], 
          StyleBox[\(base : Automatic\),
            "TI"], 
          StyleBox["]",
            "MR"]}], 
        StyleBox["[",
          "MR"], 
        StyleBox["expr",
          "MR"], 
        StyleBox["]",
          "MR"]}]]],
  " will form an array on the free indices in the expression."
}], "Usage",
  CellTags->"Function?"],

Cell["\<\
The expansion will be done in the natural sort order of the raw free indices \
with the first sorted index at the highest level.\
\>", "MathCaption"],

Cell[TextData[{
  " If special sets of base indices have been associated with certain flavors \
of indices using  ",
  ButtonBox["DeclareBaseIndices",
    ButtonData:>{"DeclareBaseIndices"},
    ButtonStyle->"AddOnsLink"],
  ", then those sets will be used with the corresponding flavors."
}], "MathCaption"],

Cell[TextData[{
  "The optional argument base gives the base indices over which each index is \
expanded. The default value is ",
  Cell[BoxData[
      \(Automatic\)]],
  " and then each index is expanded over the complete set of base indices for \
the corresponding flavor. If a list of subsets of selected base indices is \
given then each index is expanded over the corresponding selected subset \
taken in corresponding order. If a single list of selected base indices is \
supplied, then it will apply only to the first index. "
}], "MathCaption"],

Cell["\<\
 Flavored indices as well as plain indices are automatically expanded.\
\>", "MathCaption"],

Cell[TextData[{
  "See also: ",
  ButtonBox["DeclareBaseIndices",
    ButtonData:>{"DeclareBaseIndices"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["SumExpansion",
    ButtonData:>{"SumExpansion"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["EinsteinSum",
    ButtonData:>{"EinsteinSum"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ArrayExpansion",
    ButtonData:>{"ArrayExpansion"},
    ButtonStyle->"AddOnsLink"],
  ", ",
  ButtonBox["ToArrayValues",
    ButtonData:>{"ToArrayValues"},
    ButtonStyle->"AddOnsLink"],
  "."
}], "MathCaption"],

Cell[CellGroupData[{

Cell["Examples", "ExampleSection"],

Cell[BoxData[
    \(Needs["\<TensorCalculus4`Tensorial`\>"]\)], "Input",
  CellLabel->"In[1]:="],

Cell["Save the settings and declare base indices and flavors.", "Text"],

Cell[BoxData[{
    \(\(oldindices = CompleteBaseIndices;\)\), "\n", 
    \(\(oldflavors = IndexFlavors;\)\), "\n", 
    \(\(ClearIndexFlavor /@ oldflavors;\)\), "\[IndentingNewLine]", 
    \(DeclareBaseIndices[{1, 2, 3}]\), "\[IndentingNewLine]", 
    \(\(DeclareIndexFlavor /@ {{red, Red}, {rocket, 
            SuperDagger}};\)\)}], "Input",
  CellLabel->"In[2]:="],

Cell[BoxData[
    \(DefineTensorShortcuts[{{x, y}, 1}, {S, 2}]\)], "Input",
  CellLabel->"In[7]:="],

Cell["The following expands vectors into their components...", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(xu[i]\), "\[IndentingNewLine]", 
    \(% // EinsteinArray[]\)}], "Input",
  CellLabel->"In[8]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["x", 
        TagBox[
          StyleBox["i",
            ShowContents->False],
          (StyleForm[ #, ShowContents -> False]&)], "i"],
      Tensor[ x, {i}, {Void}],
      Editable->False]], "Output",
  CellLabel->"Out[8]="],

Cell[BoxData[
    RowBox[{"{", 
      RowBox[{
        InterpretationBox[
          SubsuperscriptBox["x", 
            TagBox[
              StyleBox["1",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "1"],
          Tensor[ x, {1}, {Void}],
          Editable->False], ",", 
        InterpretationBox[
          SubsuperscriptBox["x", 
            TagBox[
              StyleBox["2",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "2"],
          Tensor[ x, {2}, {Void}],
          Editable->False], ",", 
        InterpretationBox[
          SubsuperscriptBox["x", 
            TagBox[
              StyleBox["3",
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], "3"],
          Tensor[ x, {3}, {Void}],
          Editable->False]}], "}"}]], "Output",
  CellLabel->"Out[9]="]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
    \(xu[i] + yu[i]\), "\[IndentingNewLine]", 
    \(% // EinsteinArray[]\)}], "Input",
  CellLabel->"In[10]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["x", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"],
        Tensor[ x, {i}, {Void}],
        Editable->False], "+", 
      InterpretationBox[
        SubsuperscriptBox["y", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"],
        Tensor[ y, {i}, {Void}],
        Editable->False]}]], "Output",
  CellLabel->"Out[10]="],

Cell[BoxData[
    RowBox[{"{", 
      RowBox[{
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox["1",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "1"],
            Tensor[ x, {1}, {Void}],
            Editable->False], "+", 
          InterpretationBox[
            SubsuperscriptBox["y", 
              TagBox[
                StyleBox["1",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "1"],
            Tensor[ y, {1}, {Void}],
            Editable->False]}], ",", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox["2",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "2"],
            Tensor[ x, {2}, {Void}],
            Editable->False], "+", 
          InterpretationBox[
            SubsuperscriptBox["y", 
              TagBox[
                StyleBox["2",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "2"],
            Tensor[ y, {2}, {Void}],
            Editable->False]}], ",", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox["3",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "3"],
            Tensor[ x, {3}, {Void}],
            Editable->False], "+", 
          InterpretationBox[
            SubsuperscriptBox["y", 
              TagBox[
                StyleBox["3",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "3"],
            Tensor[ y, {3}, {Void}],
            Editable->False]}]}], "}"}]], "Output",
  CellLabel->"Out[11]="]
}, Open  ]],

Cell["An expansion can be done over a subset of the base indices.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(xu[i] + yu[i]\), "\[IndentingNewLine]", 
    \(% // EinsteinArray[{1, 3}]\)}], "Input",
  CellLabel->"In[12]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["x", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"],
        Tensor[ x, {i}, {Void}],
        Editable->False], "+", 
      InterpretationBox[
        SubsuperscriptBox["y", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"],
        Tensor[ y, {i}, {Void}],
        Editable->False]}]], "Output",
  CellLabel->"Out[12]="],

Cell[BoxData[
    RowBox[{"{", 
      RowBox[{
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox["1",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "1"],
            Tensor[ x, {1}, {Void}],
            Editable->False], "+", 
          InterpretationBox[
            SubsuperscriptBox["y", 
              TagBox[
                StyleBox["1",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "1"],
            Tensor[ y, {1}, {Void}],
            Editable->False]}], ",", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox["3",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "3"],
            Tensor[ x, {3}, {Void}],
            Editable->False], "+", 
          InterpretationBox[
            SubsuperscriptBox["y", 
              TagBox[
                StyleBox["3",
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], "3"],
            Tensor[ y, {3}, {Void}],
            Editable->False]}]}], "}"}]], "Output",
  CellLabel->"Out[13]="]
}, Open  ]],

Cell["\<\
If the free indices do not match in all terms, an error message is issued and \
the operation is aborted.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(xu[i] + yu[j]\), "\[IndentingNewLine]", 
    \(% // EinsteinArray[]\)}], "Input",
  CellLabel->"In[14]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["x", 
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "i"],
        Tensor[ x, {i}, {Void}],
        Editable->False], "+", 
      InterpretationBox[
        SubsuperscriptBox["y", 
          TagBox[
            StyleBox["j",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], "j"],
        Tensor[ y, {j}, {Void}],
        Editable->False]}]], "Output",
  CellLabel->"Out[14]="],

Cell[BoxData[
    \(FreeIndices::"notmatched" \(\(:\)\(\ \)\) 
      "The free indices are not the same in all terms of the expression or \
some terms have bad indices."\)], "Message",
  CellLabel->"From In[14]:="],

Cell[BoxData[
    \($Aborted\)], "Output",
  CellLabel->"Out[15]="]
}, Open  ]],

Cell["The following expands a second order tensor into an array.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[]\) // MatrixForm\)}], "Input",
  CellLabel->"In[16]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[16]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 3]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 3]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 3]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[17]//MatrixForm="]
}, Open  ]],

Cell[TextData[{
  "The expansion occurs on the sort order of the indices. To obtain other \
expansion orders use ",
  Cell[BoxData["ArrayExpansion"]],
  " or change the indices in the expression. Changing the sort order of the \
indices..."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[j, i] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[]\) // MatrixForm\)}], "Input",
  CellLabel->"In[18]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ j], 
        red[ i]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[18]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 1]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 2]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 3]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 3]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 3]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[19]//MatrixForm="]
}, Open  ]],

Cell[TextData[{
  "The free indices are always sorted before being passed to ",
  Cell[BoxData[
      \(ArrayExpansion\)]],
  ", which arranges the levels in order of the indices it receives. "
}], "Text"],

Cell[TextData[{
  "Using ",
  Cell[BoxData[
      \(ArrayExpansion\)]],
  " we could keep the same matrix but switch the order of the indices in the \
expansion..."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // ArrayExpansion[red /@ {j, i}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[20]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[20]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 1]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 2]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 3]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 3]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 3]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[21]//MatrixForm="]
}, Open  ]],

Cell["\<\
The following is expanded on a subset of the first sort order index.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[{1, 2}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[22]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[22]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 3]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 3]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[23]//MatrixForm="]
}, Open  ]],

Cell["\<\
The following is expanded on the same subset of rows and columns.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[Table[{1, 2}, {2}]]\) // MatrixForm\)}], "Input",
  CellLabel->"In[24]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[24]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[25]//MatrixForm="]
}, Open  ]],

Cell["\<\
 By specifying a list of base index subsets for each index we can obtain a \
rectangular expansion.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[{{1, 2}, {1, 2, 3}}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[26]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[26]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 3]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 3]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[27]//MatrixForm="]
}, Open  ]],

Cell["The following selects two columns instead of two rows.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, j] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[{{1, 2, 3}, {1, 2}}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[28]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ i], 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[28]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 2]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[29]//MatrixForm="]
}, Open  ]],

Cell[TextData[{
  "To obtain the transpose we would switch the indices in the tensor and also \
switch the order of the base index sets. Remember that the free indices are \
sorted before being passed to ",
  Cell[BoxData[
      \(ArrayExpansion\)]],
  " so ",
  Cell[BoxData[
      \({1, 2}\)]],
  " goes with ",
  Cell[BoxData[
      \(i\)]],
  " and ",
  Cell[BoxData[
      \({1, 2, 3}\)]],
  " goes with ",
  Cell[BoxData[
      \(j\)]],
  "."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[j, i] // ToFlavor[red]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[{{1, 2}, {1, 2, 3}}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[30]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["i",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
          TagBox[
            StyleBox["i",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {
        red[ j], 
        red[ i]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[30]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 1]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 1]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["1",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 1], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 2], 
                  red[ 2]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["3",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["2",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)], 
                    TagBox[
                      StyleBox["2",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {
                  red[ 3], 
                  red[ 2]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[31]//MatrixForm="]
}, Open  ]],

Cell["The following expands a set of equations (or inequalities).", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(yu[i] > Sud[i, j] xu[j] // ToFlavor[rocket]\), "\[IndentingNewLine]", 
    \(% // EinsteinSum[]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[]\) // TableForm\)}], "Input",
  CellLabel->"In[32]:="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["y", 
          TagBox[
            StyleBox[\(i\^\[Dagger]\),
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], \(i\^\[Dagger]\)],
        Tensor[ y, {
          rocket[ i]}, {Void}],
        Editable->False], ">", 
      RowBox[{
        InterpretationBox[
          SubsuperscriptBox["S", 
            RowBox[{
              TagBox[
                StyleBox[\(i\^\[Dagger]\),
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], \(j\^\[Dagger]\)}], 
            
            RowBox[{\(i\^\[Dagger]\), 
              TagBox[
                StyleBox[\(j\^\[Dagger]\),
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)]}]],
          Tensor[ S, {
            rocket[ i], Void}, {Void, 
            rocket[ j]}],
          Editable->False], " ", 
        InterpretationBox[
          SubsuperscriptBox["x", 
            TagBox[
              StyleBox[\(j\^\[Dagger]\),
                ShowContents->False],
              (StyleForm[ #, ShowContents -> False]&)], \(j\^\[Dagger]\)],
          Tensor[ x, {
            rocket[ j]}, {Void}],
          Editable->False]}]}]], "Output",
  CellLabel->"Out[32]="],

Cell[BoxData[
    RowBox[{
      InterpretationBox[
        SubsuperscriptBox["y", 
          TagBox[
            StyleBox[\(i\^\[Dagger]\),
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], \(i\^\[Dagger]\)],
        Tensor[ y, {
          rocket[ i]}, {Void}],
        Editable->False], ">", 
      RowBox[{
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["S", 
              RowBox[{
                TagBox[
                  StyleBox[\(i\^\[Dagger]\),
                    ShowContents->False],
                  (
                  StyleForm[ #, ShowContents -> False]&)], \(1\^\[Dagger]\)}],
               
              RowBox[{\(i\^\[Dagger]\), 
                TagBox[
                  StyleBox[\(1\^\[Dagger]\),
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ S, {
              rocket[ i], Void}, {Void, 
              rocket[ 1]}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox[\(1\^\[Dagger]\),
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], \(1\^\[Dagger]\)],
            Tensor[ x, {
              rocket[ 1]}, {Void}],
            Editable->False]}], "+", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["S", 
              RowBox[{
                TagBox[
                  StyleBox[\(i\^\[Dagger]\),
                    ShowContents->False],
                  (
                  StyleForm[ #, ShowContents -> False]&)], \(2\^\[Dagger]\)}],
               
              RowBox[{\(i\^\[Dagger]\), 
                TagBox[
                  StyleBox[\(2\^\[Dagger]\),
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ S, {
              rocket[ i], Void}, {Void, 
              rocket[ 2]}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox[\(2\^\[Dagger]\),
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], \(2\^\[Dagger]\)],
            Tensor[ x, {
              rocket[ 2]}, {Void}],
            Editable->False]}], "+", 
        RowBox[{
          InterpretationBox[
            SubsuperscriptBox["S", 
              RowBox[{
                TagBox[
                  StyleBox[\(i\^\[Dagger]\),
                    ShowContents->False],
                  (
                  StyleForm[ #, ShowContents -> False]&)], \(3\^\[Dagger]\)}],
               
              RowBox[{\(i\^\[Dagger]\), 
                TagBox[
                  StyleBox[\(3\^\[Dagger]\),
                    ShowContents->False],
                  (StyleForm[ #, ShowContents -> False]&)]}]],
            Tensor[ S, {
              rocket[ i], Void}, {Void, 
              rocket[ 3]}],
            Editable->False], " ", 
          InterpretationBox[
            SubsuperscriptBox["x", 
              TagBox[
                StyleBox[\(3\^\[Dagger]\),
                  ShowContents->False],
                (StyleForm[ #, ShowContents -> False]&)], \(3\^\[Dagger]\)],
            Tensor[ x, {
              rocket[ 3]}, {Void}],
            Editable->False]}]}]}]], "Output",
  CellLabel->"Out[33]="],

Cell[BoxData[
    InterpretationBox[GridBox[{
          {
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["y", 
                  TagBox[
                    StyleBox[\(1\^\[Dagger]\),
                      ShowContents->False],
                    (
                    StyleForm[ #, ShowContents -> 
                      False]&)], \(1\^\[Dagger]\)],
                Tensor[ y, {
                  rocket[ 1]}, {Void}],
                Editable->False], ">", 
              RowBox[{
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(1\^\[Dagger]\)}], 
                      RowBox[{\(1\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 1], Void}, {Void, 
                      rocket[ 1]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(1\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(1\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 1]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(2\^\[Dagger]\)}], 
                      RowBox[{\(1\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 1], Void}, {Void, 
                      rocket[ 2]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(2\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(2\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 2]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(3\^\[Dagger]\)}], 
                      RowBox[{\(1\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 1], Void}, {Void, 
                      rocket[ 3]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(3\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(3\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 3]}, {Void}],
                    Editable->False]}]}]}]},
          {
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["y", 
                  TagBox[
                    StyleBox[\(2\^\[Dagger]\),
                      ShowContents->False],
                    (
                    StyleForm[ #, ShowContents -> 
                      False]&)], \(2\^\[Dagger]\)],
                Tensor[ y, {
                  rocket[ 2]}, {Void}],
                Editable->False], ">", 
              RowBox[{
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(1\^\[Dagger]\)}], 
                      RowBox[{\(2\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 2], Void}, {Void, 
                      rocket[ 1]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(1\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(1\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 1]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(2\^\[Dagger]\)}], 
                      RowBox[{\(2\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 2], Void}, {Void, 
                      rocket[ 2]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(2\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(2\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 2]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(3\^\[Dagger]\)}], 
                      RowBox[{\(2\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 2], Void}, {Void, 
                      rocket[ 3]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(3\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(3\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 3]}, {Void}],
                    Editable->False]}]}]}]},
          {
            RowBox[{
              InterpretationBox[
                SubsuperscriptBox["y", 
                  TagBox[
                    StyleBox[\(3\^\[Dagger]\),
                      ShowContents->False],
                    (
                    StyleForm[ #, ShowContents -> 
                      False]&)], \(3\^\[Dagger]\)],
                Tensor[ y, {
                  rocket[ 3]}, {Void}],
                Editable->False], ">", 
              RowBox[{
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(1\^\[Dagger]\)}], 
                      RowBox[{\(3\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(1\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 3], Void}, {Void, 
                      rocket[ 1]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(1\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(1\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 1]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(2\^\[Dagger]\)}], 
                      RowBox[{\(3\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(2\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 3], Void}, {Void, 
                      rocket[ 2]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(2\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(2\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 2]}, {Void}],
                    Editable->False]}], "+", 
                RowBox[{
                  InterpretationBox[
                    SubsuperscriptBox["S", 
                      RowBox[{
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (
                          StyleForm[ #, ShowContents -> 
                            False]&)], \(3\^\[Dagger]\)}], 
                      RowBox[{\(3\^\[Dagger]\), 
                        TagBox[
                          StyleBox[\(3\^\[Dagger]\),
                            ShowContents->False],
                          (StyleForm[ #, ShowContents -> False]&)]}]],
                    Tensor[ S, {
                      rocket[ 3], Void}, {Void, 
                      rocket[ 3]}],
                    Editable->False], " ", 
                  InterpretationBox[
                    SubsuperscriptBox["x", 
                      TagBox[
                        StyleBox[\(3\^\[Dagger]\),
                          ShowContents->False],
                        (
                        StyleForm[ #, ShowContents -> 
                          False]&)], \(3\^\[Dagger]\)],
                    Tensor[ x, {
                      rocket[ 3]}, {Void}],
                    Editable->False]}]}]}]}
          },
        RowSpacings->1,
        ColumnSpacings->3,
        RowAlignments->Baseline,
        ColumnAlignments->{Left}],
      TableForm[ {
        Greater[ 
          Tensor[ y, {
            rocket[ 1]}, {Void}], 
          Plus[ 
            Times[ 
              Tensor[ S, {
                rocket[ 1], Void}, {Void, 
                rocket[ 1]}], 
              Tensor[ x, {
                rocket[ 1]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 1], Void}, {Void, 
                rocket[ 2]}], 
              Tensor[ x, {
                rocket[ 2]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 1], Void}, {Void, 
                rocket[ 3]}], 
              Tensor[ x, {
                rocket[ 3]}, {Void}]]]], 
        Greater[ 
          Tensor[ y, {
            rocket[ 2]}, {Void}], 
          Plus[ 
            Times[ 
              Tensor[ S, {
                rocket[ 2], Void}, {Void, 
                rocket[ 1]}], 
              Tensor[ x, {
                rocket[ 1]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 2], Void}, {Void, 
                rocket[ 2]}], 
              Tensor[ x, {
                rocket[ 2]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 2], Void}, {Void, 
                rocket[ 3]}], 
              Tensor[ x, {
                rocket[ 3]}, {Void}]]]], 
        Greater[ 
          Tensor[ y, {
            rocket[ 3]}, {Void}], 
          Plus[ 
            Times[ 
              Tensor[ S, {
                rocket[ 3], Void}, {Void, 
                rocket[ 1]}], 
              Tensor[ x, {
                rocket[ 1]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 3], Void}, {Void, 
                rocket[ 2]}], 
              Tensor[ x, {
                rocket[ 2]}, {Void}]], 
            Times[ 
              Tensor[ S, {
                rocket[ 3], Void}, {Void, 
                rocket[ 3]}], 
              Tensor[ x, {
                rocket[ 3]}, {Void}]]]]}]]], "Output",
  CellLabel->"Out[34]//TableForm="]
}, Open  ]],

Cell["\<\
If we have declared special base indices for some flavors of indices, then \
they are expanded on the corresponding bases.\
\>", "Text"],

Cell[BoxData[
    \(DeclareBaseIndices[{1, 2, 3}, {red, {A, B}}]\)], "Input",
  CellLabel->"In[35]:="],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, red@j]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[]\) // MatrixForm\)}], "Input",
  CellLabel->"In[36]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{"i", 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {i, 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[36]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["A",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"1", 
                    TagBox[
                      StyleBox["A",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {1, 
                  red[ A]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["B",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"1", 
                    TagBox[
                      StyleBox["B",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {1, 
                  red[ B]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["A",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"2", 
                    TagBox[
                      StyleBox["A",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {2, 
                  red[ A]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["B",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"2", 
                    TagBox[
                      StyleBox["B",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {2, 
                  red[ B]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["A",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"3", 
                    TagBox[
                      StyleBox["A",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {3, 
                  red[ A]}, {Void, Void}],
                Editable->False], 
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["3",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["B",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"3", 
                    TagBox[
                      StyleBox["B",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {3, 
                  red[ B]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[37]//MatrixForm="]
}, Open  ]],

Cell["\<\
We can still use selected subsets for each index but, of course, they must be \
from the corresponding base sets.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[{
    \(Suu[i, red@j]\), "\[IndentingNewLine]", 
    \(\(% // EinsteinArray[{{1, 2}, {B}}]\) // MatrixForm\)}], "Input",
  CellLabel->"In[38]:="],

Cell[BoxData[
    InterpretationBox[
      SubsuperscriptBox["S", 
        RowBox[{
          TagBox[
            StyleBox["i",
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)], 
          TagBox[
            StyleBox[
              TagBox[
                StyleBox["j",
                  FontColor->RGBColor[1, 0, 0]],
                (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
              ShowContents->False],
            (StyleForm[ #, ShowContents -> False]&)]}], 
        RowBox[{"i", 
          TagBox[
            StyleBox["j",
              FontColor->RGBColor[1, 0, 0]],
            (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
      Tensor[ S, {i, 
        red[ j]}, {Void, Void}],
      Editable->False]], "Output",
  CellLabel->"Out[38]="],

Cell[BoxData[
    TagBox[
      RowBox[{"(", "\[NoBreak]", GridBox[{
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["1",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["B",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"1", 
                    TagBox[
                      StyleBox["B",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {1, 
                  red[ B]}, {Void, Void}],
                Editable->False]},
            {
              InterpretationBox[
                SubsuperscriptBox["S", 
                  RowBox[{
                    TagBox[
                      StyleBox["2",
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)], 
                    TagBox[
                      StyleBox[
                        TagBox[
                          StyleBox["B",
                            FontColor->RGBColor[1, 0, 0]],
                          (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)],
                        ShowContents->False],
                      (StyleForm[ #, ShowContents -> False]&)]}], 
                  RowBox[{"2", 
                    TagBox[
                      StyleBox["B",
                        FontColor->RGBColor[1, 0, 0]],
                      (StyleForm[ #, FontColor -> RGBColor[ 1, 0, 0]]&)]}]],
                Tensor[ S, {2, 
                  red[ B]}, {Void, Void}],
                Editable->False]}
            },
          RowSpacings->1,
          ColumnSpacings->1,
          ColumnAlignments->{Left}], "\[NoBreak]", ")"}],
      Function[ BoxForm`e$, 
        MatrixForm[ BoxForm`e$]]]], "Output",
  CellLabel->"Out[39]//MatrixForm="]
}, Open  ]],

Cell["Restore the initial values...", "Text"],

Cell[BoxData[
    \(ClearTensorShortcuts[{{x, y}, 1}, {S, 2}]\)], "Input",
  CellLabel->"In[40]:="],

Cell[BoxData[{
    \(DeclareBaseIndices @@ oldindices\), "\[IndentingNewLine]", 
    \(\(ClearIndexFlavor /@ IndexFlavors;\)\), "\[IndentingNewLine]", 
    \(\(DeclareIndexFlavor /@ oldflavors;\)\), "\[IndentingNewLine]", 
    \(Clear[oldindices, oldflavors]\)}], "Input",
  CellLabel->"In[41]:="]
}, Open  ]]
}, Open  ]]
},
FrontEndVersion->"5.2 for Microsoft Windows",
ScreenRectangle->{{0, 1680}, {0, 965}},
ScreenStyleEnvironment->"Working",
WindowToolbars->{},
WindowSize->{714, 469},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
ShowSelection->True,
CommonDefaultFormatTypes->{"Output"->StandardForm},
Magnification->1,
StyleDefinitions -> "HelpBrowser.nb"
]

(*******************************************************************
Cached data follows.  If you edit this Notebook file directly, not
using Mathematica, you must remove the line containing CacheID at
the top of  the file.  The cache data will then be recreated when
you save this file from within Mathematica.
*******************************************************************)

(*CellTagsOutline
CellTagsIndex->{
  "Function?"->{
    Cell[1776, 53, 60, 1, 41, "ObjectName",
      CellTags->"Function?"],
    Cell[1839, 56, 524, 21, 33, "Usage",
      CellTags->"Function?"]}
  }
*)

(*CellTagsIndex
CellTagsIndex->{
  {"Function?", 137906, 3541}
  }
*)

(*NotebookFileOutline
Notebook[{

Cell[CellGroupData[{
Cell[1776, 53, 60, 1, 41, "ObjectName",
  CellTags->"Function?"],
Cell[1839, 56, 524, 21, 33, "Usage",
  CellTags->"Function?"],
Cell[2366, 79, 159, 3, 41, "MathCaption"],
Cell[2528, 84, 308, 7, 58, "MathCaption"],
Cell[2839, 93, 552, 10, 92, "MathCaption"],
Cell[3394, 105, 101, 2, 41, "MathCaption"],
Cell[3498, 109, 574, 22, 41, "MathCaption"],

Cell[CellGroupData[{
Cell[4097, 135, 34, 0, 39, "ExampleSection"],
Cell[4134, 137, 96, 2, 29, "Input"],
Cell[4233, 141, 71, 0, 25, "Text"],
Cell[4307, 143, 367, 7, 109, "Input"],
Cell[4677, 152, 99, 2, 29, "Input"],
Cell[4779, 156, 70, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[4874, 160, 118, 3, 49, "Input"],
Cell[4995, 165, 288, 9, 27, "Output"],
Cell[5286, 176, 918, 27, 27, "Output"]
}, Open  ]],

Cell[CellGroupData[{
Cell[6241, 208, 127, 3, 49, "Input"],
Cell[6371, 213, 582, 18, 27, "Output"],
Cell[6956, 233, 1906, 54, 27, "Output"]
}, Open  ]],
Cell[8877, 290, 75, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[8977, 294, 133, 3, 49, "Input"],
Cell[9113, 299, 582, 18, 27, "Output"],
Cell[9698, 319, 1299, 37, 27, "Output"]
}, Open  ]],
Cell[11012, 359, 129, 3, 25, "Text"],

Cell[CellGroupData[{
Cell[11166, 366, 127, 3, 49, "Input"],
Cell[11296, 371, 582, 18, 30, "Output"],
Cell[11881, 391, 214, 4, 35, "Message"],
Cell[12098, 397, 67, 2, 27, "Output"]
}, Open  ]],
Cell[12180, 402, 74, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[12279, 406, 158, 3, 49, "Input"],
Cell[12440, 411, 1142, 33, 30, "Output"],
Cell[13585, 446, 13075, 300, 87, "Output"]
}, Open  ]],
Cell[26675, 749, 252, 6, 42, "Text"],

Cell[CellGroupData[{
Cell[26952, 759, 158, 3, 49, "Input"],
Cell[27113, 764, 1142, 33, 30, "Output"],
Cell[28258, 799, 13075, 300, 87, "Output"]
}, Open  ]],
Cell[41348, 1102, 205, 5, 42, "Text"],
Cell[41556, 1109, 176, 6, 25, "Text"],

Cell[CellGroupData[{
Cell[41757, 1119, 172, 3, 49, "Input"],
Cell[41932, 1124, 1142, 33, 30, "Output"],
Cell[43077, 1159, 13075, 300, 87, "Output"]
}, Open  ]],
Cell[56167, 1462, 92, 2, 25, "Text"],

Cell[CellGroupData[{
Cell[56284, 1468, 164, 3, 49, "Input"],
Cell[56451, 1473, 1142, 33, 30, "Output"],
Cell[57596, 1508, 8819, 203, 65, "Output"]
}, Open  ]],
Cell[66430, 1714, 89, 2, 25, "Text"],

Cell[CellGroupData[{
Cell[66544, 1720, 176, 3, 49, "Input"],
Cell[66723, 1725, 1142, 33, 30, "Output"],
Cell[67868, 1760, 5991, 139, 65, "Output"]
}, Open  ]],
Cell[73874, 1902, 123, 3, 25, "Text"],

Cell[CellGroupData[{
Cell[74022, 1909, 177, 3, 49, "Input"],
Cell[74202, 1914, 1142, 33, 30, "Output"],
Cell[75347, 1949, 8819, 203, 65, "Output"]
}, Open  ]],
Cell[84181, 2155, 70, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[84276, 2159, 177, 3, 49, "Input"],
Cell[84456, 2164, 1142, 33, 30, "Output"],
Cell[85601, 2199, 8833, 204, 87, "Output"]
}, Open  ]],
Cell[94449, 2406, 460, 19, 42, "Text"],

Cell[CellGroupData[{
Cell[94934, 2429, 177, 3, 49, "Input"],
Cell[95114, 2434, 1142, 33, 30, "Output"],
Cell[96259, 2469, 8819, 203, 65, "Output"]
}, Open  ]],
Cell[105093, 2675, 75, 0, 25, "Text"],

Cell[CellGroupData[{
Cell[105193, 2679, 226, 4, 69, "Input"],
Cell[105422, 2685, 1315, 38, 36, "Output"],
Cell[106740, 2725, 3449, 96, 34, "Output"],
Cell[110192, 2823, 15394, 386, 105, "Output"]
}, Open  ]],
Cell[125601, 3212, 146, 3, 25, "Text"],
Cell[125750, 3217, 102, 2, 29, "Input"],

Cell[CellGroupData[{
Cell[125877, 3223, 145, 3, 49, "Input"],
Cell[126025, 3228, 813, 24, 30, "Output"],
Cell[126841, 3254, 6319, 150, 87, "Output"]
}, Open  ]],
Cell[133175, 3407, 137, 3, 25, "Text"],

Cell[CellGroupData[{
Cell[133337, 3414, 158, 3, 49, "Input"],
Cell[133498, 3419, 813, 24, 30, "Output"],
Cell[134314, 3445, 2325, 57, 65, "Output"]
}, Open  ]],
Cell[136654, 3505, 45, 0, 25, "Text"],
Cell[136702, 3507, 99, 2, 29, "Input"],
Cell[136804, 3511, 297, 5, 89, "Input"]
}, Open  ]]
}, Open  ]]
}
]
*)



(*******************************************************************
End of Mathematica Notebook file.
*******************************************************************)

